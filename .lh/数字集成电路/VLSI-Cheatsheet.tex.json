{
    "sourceFile": "数字集成电路/VLSI-Cheatsheet.tex",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 37,
            "patches": [
                {
                    "date": 1767155038943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1767156113051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -932,9 +932,24 @@\n \\end{minipage}\n \\hfill\n \\begin{minipage}[t]{0.48\\linewidth}\n \\subsection{分布模型}\n-111\n+\\entry{扩散方程 (Diffusion Equation)}{建立长互连线的物理数学模型。}\n+\n+\\entry{1. 电路离散化模型}{将具有显著电阻效应的长导线切割成长度为 $\\Delta L$ 的若干微元。}\n+\\concepttable{\n+    \\conrow{元件定义}{$r\\Delta L$ 为微元串联电阻（$r$ 为单位长度电阻），$c\\Delta L$ 为微元并联对地电容（$c$ 为单位长度电容）。}\n+    \\conrow{节点分析}{选取第 $i$ 个节点，根据 KCL，流入电容的电流等于左右两侧流入电流之差。}\n+}\n+\n+\\entry{2. 差分方程推导}{对节点 $i$ 应用 KCL：$c\\Delta L \\frac{\\partial V_i}{\\partial t} = \\frac{(V_{i+1} - V_i)}{r\\Delta L} + \\frac{(V_{i-1} - V_i)}{r\\Delta L}$}\n+\n+\\entry{3. 连续化与扩散方程}{令 $\\Delta L \\to 0$，差分项演变为偏导数：}\n+\\concepttable{\n+    \\conrow{数学变换}{利用泰勒级数展开，一阶差分变为 $\\frac{\\partial V}{\\partial x}$，二阶差分变为 $\\frac{\\partial^2 V}{\\partial x^2}$。}\n+    \\conrow{最终结果}{$rc \\frac{\\partial v}{\\partial t} = \\frac{\\partial^2 v}{\\partial x^2}$}\n+    \\conrow{物理意义}{电压分布服从\\red{扩散过程}而非波动传播。电压变化率与电压在空间上的曲率成正比。}\n+}\n \\end{minipage}\n \n \\subsection{长导线的延时优化}\n \n"
                },
                {
                    "date": 1767156136630,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -932,9 +932,8 @@\n \\end{minipage}\n \\hfill\n \\begin{minipage}[t]{0.48\\linewidth}\n \\subsection{分布模型}\n-\\entry{扩散方程 (Diffusion Equation)}{建立长互连线的物理数学模型。}\n \n \\entry{1. 电路离散化模型}{将具有显著电阻效应的长导线切割成长度为 $\\Delta L$ 的若干微元。}\n \\concepttable{\n     \\conrow{元件定义}{$r\\Delta L$ 为微元串联电阻（$r$ 为单位长度电阻），$c\\Delta L$ 为微元并联对地电容（$c$ 为单位长度电容）。}\n@@ -948,8 +947,9 @@\n     \\conrow{数学变换}{利用泰勒级数展开，一阶差分变为 $\\frac{\\partial V}{\\partial x}$，二阶差分变为 $\\frac{\\partial^2 V}{\\partial x^2}$。}\n     \\conrow{最终结果}{$rc \\frac{\\partial v}{\\partial t} = \\frac{\\partial^2 v}{\\partial x^2}$}\n     \\conrow{物理意义}{电压分布服从\\red{扩散过程}而非波动传播。电压变化率与电压在空间上的曲率成正比。}\n }\n+\n \\end{minipage}\n \n \\subsection{长导线的延时优化}\n \n"
                },
                {
                    "date": 1767156244749,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -939,15 +939,13 @@\n     \\conrow{元件定义}{$r\\Delta L$ 为微元串联电阻（$r$ 为单位长度电阻），$c\\Delta L$ 为微元并联对地电容（$c$ 为单位长度电容）。}\n     \\conrow{节点分析}{选取第 $i$ 个节点，根据 KCL，流入电容的电流等于左右两侧流入电流之差。}\n }\n \n-\\entry{2. 差分方程推导}{对节点 $i$ 应用 KCL：$c\\Delta L \\frac{\\partial V_i}{\\partial t} = \\frac{(V_{i+1} - V_i)}{r\\Delta L} + \\frac{(V_{i-1} - V_i)}{r\\Delta L}$}\n-\n-\\entry{3. 连续化与扩散方程}{令 $\\Delta L \\to 0$，差分项演变为偏导数：}\n-\\concepttable{\n-    \\conrow{数学变换}{利用泰勒级数展开，一阶差分变为 $\\frac{\\partial V}{\\partial x}$，二阶差分变为 $\\frac{\\partial^2 V}{\\partial x^2}$。}\n-    \\conrow{最终结果}{$rc \\frac{\\partial v}{\\partial t} = \\frac{\\partial^2 v}{\\partial x^2}$}\n-    \\conrow{物理意义}{电压分布服从\\red{扩散过程}而非波动传播。电压变化率与电压在空间上的曲率成正比。}\n+\\entry{2. 差分方程推导}{\n+    \\concepttable{\n+        \\conrow{最终结果}{$rc \\frac{\\partial v}{\\partial t} = \\frac{\\partial^2 v}{\\partial x^2}$}\n+        \\conrow{物理意义}{电压分布服从\\red{扩散过程}而非波动传播。电压变化率与电压在空间上的曲率成正比。}\n+    }\n }\n \n \\end{minipage}\n \n"
                },
                {
                    "date": 1767156265509,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -934,12 +934,8 @@\n \\begin{minipage}[t]{0.48\\linewidth}\n \\subsection{分布模型}\n \n \\entry{1. 电路离散化模型}{将具有显著电阻效应的长导线切割成长度为 $\\Delta L$ 的若干微元。}\n-\\concepttable{\n-    \\conrow{元件定义}{$r\\Delta L$ 为微元串联电阻（$r$ 为单位长度电阻），$c\\Delta L$ 为微元并联对地电容（$c$ 为单位长度电容）。}\n-    \\conrow{节点分析}{选取第 $i$ 个节点，根据 KCL，流入电容的电流等于左右两侧流入电流之差。}\n-}\n \n \\entry{2. 差分方程推导}{\n     \\concepttable{\n         \\conrow{最终结果}{$rc \\frac{\\partial v}{\\partial t} = \\frac{\\partial^2 v}{\\partial x^2}$}\n"
                },
                {
                    "date": 1767156306400,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -937,9 +937,9 @@\n \\entry{1. 电路离散化模型}{将具有显著电阻效应的长导线切割成长度为 $\\Delta L$ 的若干微元。}\n \n \\entry{2. 差分方程推导}{\n     \\concepttable{\n-        \\conrow{最终结果}{$rc \\frac{\\partial v}{\\partial t} = \\frac{\\partial^2 v}{\\partial x^2}$}\n+        \\conrow{最终方程}{$rc \\frac{\\partial v}{\\partial t} = \\frac{\\partial^2 v}{\\partial x^2}$}\n         \\conrow{物理意义}{电压分布服从\\red{扩散过程}而非波动传播。电压变化率与电压在空间上的曲率成正比。}\n     }\n }\n \n"
                },
                {
                    "date": 1767156360762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -935,8 +935,10 @@\n \\subsection{分布模型}\n \n \\entry{1. 电路离散化模型}{将具有显著电阻效应的长导线切割成长度为 $\\Delta L$ 的若干微元。}\n \n+\\img[0.9\\linewidth]{images/image-2025-12-31-12-45-41.png}\n+\n \\entry{2. 差分方程推导}{\n     \\concepttable{\n         \\conrow{最终方程}{$rc \\frac{\\partial v}{\\partial t} = \\frac{\\partial^2 v}{\\partial x^2}$}\n         \\conrow{物理意义}{电压分布服从\\red{扩散过程}而非波动传播。电压变化率与电压在空间上的曲率成正比。}\n"
                },
                {
                    "date": 1767156494274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -944,8 +944,30 @@\n         \\conrow{物理意义}{电压分布服从\\red{扩散过程}而非波动传播。电压变化率与电压在空间上的曲率成正比。}\n     }\n }\n \n+\\imgleft[0.3]{images/image-2025-12-31-12-47-11.png}{\n+    坐标轴含义横轴 (Time)：时间 $t$，单位是秒。纵轴 (Voltage)：电压 $V$，归一化后的幅值。输入信号：虽然图中未画出，但隐含的输入是在 $x=0$ 处施加的一个理想阶跃信号（0时刻瞬间从0V跳变到高电平）。2. 曲线分析 (不同位置的响应)图中四条曲线分别代表导线上不同位置（$x = L/10, L/4, L/2, L$）的电压波形：$x = L/10$ (靠近驱动端)：蓝色曲线。响应非常快，上升沿陡峭，波形接近输入的阶跃信号。$x = L$ (导线末端)：青色曲线。响应最慢，上升沿变得非常平缓。中间位置：随着距离 $x$ 的增加，波形的**上升时间（Rise Time）**显著变长。3. 结论扩散效应：由于分布电阻和电容的存在，信号在传输过程中能量被“平摊”了。高频分量（对应陡峭的上升沿）衰减得比低频分量快。信号延迟：信号到达末端不仅幅值上升缓慢，而且存在明显的传输延时。这证明了在长导线中，不能再将其视为等电位体，必须考虑位置 $x$ 对电压的影响。\n+\\entry{坐标轴与输入}{描述波形图的基础参数：}\n+\\concepttable{\n+    \\conrow{坐标轴}{横轴为时间 $t$，纵轴为归一化电压 $V$。}\n+    \\conrow{输入信号}{在 $x=0$ 处施加理想阶跃信号（$0$ 时刻从 $0V$ 跳变至高电平）。}\n+}\n+\n+\\entry{曲线分析}{图中曲线代表不同位置 $x$ 的电压响应：}\n+\\concepttable{\n+    \\conrow{近端 $x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n+    \\conrow{远端 $x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n+    \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间 (Rise Time)} 显著变长。}\n+}\n+\n+\\entry{物理结论}{反映了分布参数电路的本质特性：}\n+\\concepttable{\n+    \\conrow{扩散效应}{由于分布 $R, C$ 存在，信号能量被“平摊”，高频分量衰减比低频分量快。}\n+    \\conrow{信号延迟}{信号到达末端不仅幅值上升缓慢，且存在明显延时。证明长导线不可视为等电位体，必须考虑位置 $x$ 对电压的影响。}\n+}\n+}\n+\n \\end{minipage}\n \n \\subsection{长导线的延时优化}\n \n"
                },
                {
                    "date": 1767156507943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -945,9 +945,8 @@\n     }\n }\n \n \\imgleft[0.3]{images/image-2025-12-31-12-47-11.png}{\n-    坐标轴含义横轴 (Time)：时间 $t$，单位是秒。纵轴 (Voltage)：电压 $V$，归一化后的幅值。输入信号：虽然图中未画出，但隐含的输入是在 $x=0$ 处施加的一个理想阶跃信号（0时刻瞬间从0V跳变到高电平）。2. 曲线分析 (不同位置的响应)图中四条曲线分别代表导线上不同位置（$x = L/10, L/4, L/2, L$）的电压波形：$x = L/10$ (靠近驱动端)：蓝色曲线。响应非常快，上升沿陡峭，波形接近输入的阶跃信号。$x = L$ (导线末端)：青色曲线。响应最慢，上升沿变得非常平缓。中间位置：随着距离 $x$ 的增加，波形的**上升时间（Rise Time）**显著变长。3. 结论扩散效应：由于分布电阻和电容的存在，信号在传输过程中能量被“平摊”了。高频分量（对应陡峭的上升沿）衰减得比低频分量快。信号延迟：信号到达末端不仅幅值上升缓慢，而且存在明显的传输延时。这证明了在长导线中，不能再将其视为等电位体，必须考虑位置 $x$ 对电压的影响。\n \\entry{坐标轴与输入}{描述波形图的基础参数：}\n \\concepttable{\n     \\conrow{坐标轴}{横轴为时间 $t$，纵轴为归一化电压 $V$。}\n     \\conrow{输入信号}{在 $x=0$ 处施加理想阶跃信号（$0$ 时刻从 $0V$ 跳变至高电平）。}\n"
                },
                {
                    "date": 1767156532776,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -945,27 +945,15 @@\n     }\n }\n \n \\imgleft[0.3]{images/image-2025-12-31-12-47-11.png}{\n-\\entry{坐标轴与输入}{描述波形图的基础参数：}\n-\\concepttable{\n-    \\conrow{坐标轴}{横轴为时间 $t$，纵轴为归一化电压 $V$。}\n-    \\conrow{输入信号}{在 $x=0$ 处施加理想阶跃信号（$0$ 时刻从 $0V$ 跳变至高电平）。}\n-}\n-\n \\entry{曲线分析}{图中曲线代表不同位置 $x$ 的电压响应：}\n \\concepttable{\n     \\conrow{近端 $x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n     \\conrow{远端 $x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n     \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间 (Rise Time)} 显著变长。}\n }\n-\n-\\entry{物理结论}{反映了分布参数电路的本质特性：}\n-\\concepttable{\n-    \\conrow{扩散效应}{由于分布 $R, C$ 存在，信号能量被“平摊”，高频分量衰减比低频分量快。}\n-    \\conrow{信号延迟}{信号到达末端不仅幅值上升缓慢，且存在明显延时。证明长导线不可视为等电位体，必须考虑位置 $x$ 对电压的影响。}\n }\n-}\n \n \\end{minipage}\n \n \\subsection{长导线的延时优化}\n"
                },
                {
                    "date": 1767156557861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -951,9 +951,8 @@\n     \\conrow{近端 $x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n     \\conrow{远端 $x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n     \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间 (Rise Time)} 显著变长。}\n }\n-}\n \n \\end{minipage}\n \n \\subsection{长导线的延时优化}\n"
                },
                {
                    "date": 1767156590382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -944,18 +944,19 @@\n         \\conrow{物理意义}{电压分布服从\\red{扩散过程}而非波动传播。电压变化率与电压在空间上的曲率成正比。}\n     }\n }\n \n+\\end{minipage}\n+\n \\imgleft[0.3]{images/image-2025-12-31-12-47-11.png}{\n \\entry{曲线分析}{图中曲线代表不同位置 $x$ 的电压响应：}\n \\concepttable{\n     \\conrow{近端 $x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n     \\conrow{远端 $x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n     \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间 (Rise Time)} 显著变长。}\n }\n+}\n \n-\\end{minipage}\n-\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                },
                {
                    "date": 1767156613811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -949,10 +949,10 @@\n \n \\imgleft[0.3]{images/image-2025-12-31-12-47-11.png}{\n \\entry{曲线分析}{图中曲线代表不同位置 $x$ 的电压响应：}\n \\concepttable{\n-    \\conrow{近端 $x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n-    \\conrow{远端 $x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n+    \\conrow{$x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n+    \\conrow{$x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n     \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间 (Rise Time)} 显著变长。}\n }\n }\n \n"
                },
                {
                    "date": 1767156636736,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -951,9 +951,9 @@\n \\entry{曲线分析}{图中曲线代表不同位置 $x$ 的电压响应：}\n \\concepttable{\n     \\conrow{$x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n     \\conrow{$x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n-    \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间 (Rise Time)} 显著变长。}\n+    \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间} 显著变长。}\n }\n }\n \n \\subsection{长导线的延时优化}\n"
                },
                {
                    "date": 1767156678436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -953,10 +953,17 @@\n     \\conrow{$x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n     \\conrow{$x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n     \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间} 显著变长。}\n }\n+\\entry{物理特性分析}{对分布模型响应曲线的解读：}\n+\\concepttable{\n+    \\conrow{扩散效应}{由于分布电阻和电容的存在，信号能量被“平摊”。高频分量（对应陡峭上升沿）衰减比低频分量快。}\n+    \\conrow{信号延迟}{信号到达末端不仅幅值上升缓慢，且存在明显的传输延时。}\n+    \\conrow{建模结论}{证明在长导线中不能将其视为等电位体，必须考虑位置 $x$ 对电压的影响。}\n }\n \n+}\n+\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                },
                {
                    "date": 1767156693644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -924,9 +924,9 @@\n \n \\concepttable{\n     \\conrow{物理特性}{导线可被视为一个\\red{等电位体}（理想导线）。}\n     \\conrow{\\red{延时计算}}{$\\boxed{\\tau = RC = rcL^2}$。}\n-    \\conrow{参数说明}{$r, c$：单位长度的电阻和电容（Unit length parameters）。}\n+    \\conrow{参数说明}{$r, c$：单位长度的电阻和电容}\n     \\conrow{模型简化}{整根导线被简化为一个\\red{单一的集总电容}，作为驱动门的负载负载。}\n }\n \n \\end{minipage}\n"
                },
                {
                    "date": 1767156713895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -957,9 +957,8 @@\n \\entry{物理特性分析}{对分布模型响应曲线的解读：}\n \\concepttable{\n     \\conrow{扩散效应}{由于分布电阻和电容的存在，信号能量被“平摊”。高频分量（对应陡峭上升沿）衰减比低频分量快。}\n     \\conrow{信号延迟}{信号到达末端不仅幅值上升缓慢，且存在明显的传输延时。}\n-    \\conrow{建模结论}{证明在长导线中不能将其视为等电位体，必须考虑位置 $x$ 对电压的影响。}\n }\n \n }\n \n"
                },
                {
                    "date": 1767156734622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -953,14 +953,16 @@\n     \\conrow{$x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n     \\conrow{$x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n     \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间} 显著变长。}\n }\n-\\entry{物理特性分析}{对分布模型响应曲线的解读：}\n-\\concepttable{\n-    \\conrow{扩散效应}{由于分布电阻和电容的存在，信号能量被“平摊”。高频分量（对应陡峭上升沿）衰减比低频分量快。}\n-    \\conrow{信号延迟}{信号到达末端不仅幅值上升缓慢，且存在明显的传输延时。}\n+\\entry{物理特性分析}{\n+    \\concepttable{\n+        \\conrow{扩散效应}{由于分布电阻和电容的存在，信号能量被“平摊”。高频分量（对应陡峭上升沿）衰减比低频分量快。}\n+        \\conrow{信号延迟}{信号到达末端不仅幅值上升缓慢，且存在明显的传输延时。}\n+    }\n }\n \n+\n }\n \n \\subsection{长导线的延时优化}\n \n"
                },
                {
                    "date": 1767156807437,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -937,13 +937,17 @@\n \\entry{1. 电路离散化模型}{将具有显著电阻效应的长导线切割成长度为 $\\Delta L$ 的若干微元。}\n \n \\img[0.9\\linewidth]{images/image-2025-12-31-12-45-41.png}\n \n-\\entry{2. 差分方程推导}{\n-    \\concepttable{\n-        \\conrow{最终方程}{$rc \\frac{\\partial v}{\\partial t} = \\frac{\\partial^2 v}{\\partial x^2}$}\n-        \\conrow{物理意义}{电压分布服从\\red{扩散过程}而非波动传播。电压变化率与电压在空间上的曲率成正比。}\n-    }\n+\\entry{适用条件}{\\red{导线较长}，电阻效应显著，信号沿线存在电压梯度，不能视为等电位体。}\n+\n+\\img[0.9\\linewidth]{images/image-2025-12-31-12-45-41.png}\n+\n+\\concepttable{\n+    \\conrow{Elmore 延时}{工程近似方法。通用公式：$\\tau_{DN} = \\sum_{i=1}^{N} C_i (\\sum_{j=1}^{i} R_j)$。即各节点电容与其到源端路径电阻之积的加权和。}\n+    \\conrow{均匀线推导}{将 $L$ 分为 $N$ 段，每段 $r\\Delta L, c\\Delta L$。取 $N \\to \\infty$ 极限，求和系数 $\\frac{N(N+1)}{2N^2} \\to \\frac{1}{2}$。}\n+    \\conrow{\\red{延时计算}}{$\\boxed{\\tau = \\frac{RC}{2} = \\frac{rcL^2}{2}}$。}\n+    \\conrow{物理意义}{电容均匀分布，平均电流仅需流过一半电阻。延时为集总模型的 \\red{1/2}。}\n }\n \n \\end{minipage}\n \n"
                },
                {
                    "date": 1767156833115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -933,12 +933,8 @@\n \\hfill\n \\begin{minipage}[t]{0.48\\linewidth}\n \\subsection{分布模型}\n \n-\\entry{1. 电路离散化模型}{将具有显著电阻效应的长导线切割成长度为 $\\Delta L$ 的若干微元。}\n-\n-\\img[0.9\\linewidth]{images/image-2025-12-31-12-45-41.png}\n-\n \\entry{适用条件}{\\red{导线较长}，电阻效应显著，信号沿线存在电压梯度，不能视为等电位体。}\n \n \\img[0.9\\linewidth]{images/image-2025-12-31-12-45-41.png}\n \n"
                },
                {
                    "date": 1767156899897,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -911,8 +911,10 @@\n     \\conrow{信号反射}{高频下视为传输线。若特性阻抗 $Z_0 = \\sqrt{L/C}$ 与端点不匹配，信号在终端反射。}\n     \\conrow{线间互感}{相邻导线间的磁场耦合产生感应电动势（互感），是产生串扰的磁性分量（对应容性串扰）。}\n }\n \n+\\entry{Elmore 延时}{工程近似方法。通用公式：$\\tau_{DN} = \\sum_{i=1}^{N} C_i (\\sum_{j=1}^{i} R_j)$。即各节点电容与其到源端路径电阻之积的加权和。}\n+\\entry{均匀线推导}{将 $L$ 分为 $N$ 段，每段 $r\\Delta L, c\\Delta L$。取 $N \\to \\infty$ 极限，求和系数 $\\frac{N(N+1)}{2N^2} \\to \\frac{1}{2}$。}\n \n \\noindent\n \\begin{minipage}[t]{0.48\\linewidth}\n \n@@ -938,10 +940,8 @@\n \n \\img[0.9\\linewidth]{images/image-2025-12-31-12-45-41.png}\n \n \\concepttable{\n-    \\conrow{Elmore 延时}{工程近似方法。通用公式：$\\tau_{DN} = \\sum_{i=1}^{N} C_i (\\sum_{j=1}^{i} R_j)$。即各节点电容与其到源端路径电阻之积的加权和。}\n-    \\conrow{均匀线推导}{将 $L$ 分为 $N$ 段，每段 $r\\Delta L, c\\Delta L$。取 $N \\to \\infty$ 极限，求和系数 $\\frac{N(N+1)}{2N^2} \\to \\frac{1}{2}$。}\n     \\conrow{\\red{延时计算}}{$\\boxed{\\tau = \\frac{RC}{2} = \\frac{rcL^2}{2}}$。}\n     \\conrow{物理意义}{电容均匀分布，平均电流仅需流过一半电阻。延时为集总模型的 \\red{1/2}。}\n }\n \n"
                },
                {
                    "date": 1767156941250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -922,9 +922,9 @@\n \n \\entry{适用条件}{\\red{导线很短}，其自身寄生电阻 $r$ 远小于驱动门的输出电阻，且高频电感 $l$ 在高频下的阻抗可忽略时。}\n \n \\img[0.9\\linewidth]{images/image-2025-12-31-12-02-32.png}\n-\n+\\vapsce{2pt}\n \\concepttable{\n     \\conrow{物理特性}{导线可被视为一个\\red{等电位体}（理想导线）。}\n     \\conrow{\\red{延时计算}}{$\\boxed{\\tau = RC = rcL^2}$。}\n     \\conrow{参数说明}{$r, c$：单位长度的电阻和电容}\n"
                },
                {
                    "date": 1767156948714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -922,9 +922,9 @@\n \n \\entry{适用条件}{\\red{导线很短}，其自身寄生电阻 $r$ 远小于驱动门的输出电阻，且高频电感 $l$ 在高频下的阻抗可忽略时。}\n \n \\img[0.9\\linewidth]{images/image-2025-12-31-12-02-32.png}\n-\\vapsce{2pt}\n+\\vspace{2pt}\n \\concepttable{\n     \\conrow{物理特性}{导线可被视为一个\\red{等电位体}（理想导线）。}\n     \\conrow{\\red{延时计算}}{$\\boxed{\\tau = RC = rcL^2}$。}\n     \\conrow{参数说明}{$r, c$：单位长度的电阻和电容}\n"
                },
                {
                    "date": 1767156961201,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -922,9 +922,9 @@\n \n \\entry{适用条件}{\\red{导线很短}，其自身寄生电阻 $r$ 远小于驱动门的输出电阻，且高频电感 $l$ 在高频下的阻抗可忽略时。}\n \n \\img[0.9\\linewidth]{images/image-2025-12-31-12-02-32.png}\n-\\vspace{2pt}\n+\n \\concepttable{\n     \\conrow{物理特性}{导线可被视为一个\\red{等电位体}（理想导线）。}\n     \\conrow{\\red{延时计算}}{$\\boxed{\\tau = RC = rcL^2}$。}\n     \\conrow{参数说明}{$r, c$：单位长度的电阻和电容}\n@@ -938,9 +938,9 @@\n \n \\entry{适用条件}{\\red{导线较长}，电阻效应显著，信号沿线存在电压梯度，不能视为等电位体。}\n \n \\img[0.9\\linewidth]{images/image-2025-12-31-12-45-41.png}\n-\n+\\vspace{2pt}\n \\concepttable{\n     \\conrow{\\red{延时计算}}{$\\boxed{\\tau = \\frac{RC}{2} = \\frac{rcL^2}{2}}$。}\n     \\conrow{物理意义}{电容均匀分布，平均电流仅需流过一半电阻。延时为集总模型的 \\red{1/2}。}\n }\n"
                },
                {
                    "date": 1767156968352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -938,9 +938,9 @@\n \n \\entry{适用条件}{\\red{导线较长}，电阻效应显著，信号沿线存在电压梯度，不能视为等电位体。}\n \n \\img[0.9\\linewidth]{images/image-2025-12-31-12-45-41.png}\n-\\vspace{2pt}\n+\\vspace{3pt}\n \\concepttable{\n     \\conrow{\\red{延时计算}}{$\\boxed{\\tau = \\frac{RC}{2} = \\frac{rcL^2}{2}}$。}\n     \\conrow{物理意义}{电容均匀分布，平均电流仅需流过一半电阻。延时为集总模型的 \\red{1/2}。}\n }\n"
                },
                {
                    "date": 1767156976131,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -938,9 +938,9 @@\n \n \\entry{适用条件}{\\red{导线较长}，电阻效应显著，信号沿线存在电压梯度，不能视为等电位体。}\n \n \\img[0.9\\linewidth]{images/image-2025-12-31-12-45-41.png}\n-\\vspace{3pt}\n+\\vspace{4pt}\n \\concepttable{\n     \\conrow{\\red{延时计算}}{$\\boxed{\\tau = \\frac{RC}{2} = \\frac{rcL^2}{2}}$。}\n     \\conrow{物理意义}{电容均匀分布，平均电流仅需流过一半电阻。延时为集总模型的 \\red{1/2}。}\n }\n"
                },
                {
                    "date": 1767157005561,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -947,9 +947,9 @@\n \n \\end{minipage}\n \n \\imgleft[0.3]{images/image-2025-12-31-12-47-11.png}{\n-\\entry{曲线分析}{图中曲线代表不同位置 $x$ 的电压响应：}\n+\\entry{曲线分析}{图中曲线代表导线不同位置 $x$ 的电压响应：}\n \\concepttable{\n     \\conrow{$x=L/10$}{响应极快，上升沿陡峭，波形接近输入阶跃信号。}\n     \\conrow{$x=L$}{响应最慢，上升沿变得非常平缓，延迟最大。}\n     \\conrow{中间位置}{随着距离 $x$ 的增加，波形的\\red{上升时间} 显著变长。}\n"
                },
                {
                    "date": 1767157428610,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -960,11 +960,29 @@\n         \\conrow{信号延迟}{信号到达末端不仅幅值上升缓慢，且存在明显的传输延时。}\n     }\n }\n \n+}\n \n+集总与分布RC的阶跃响应 (Step Response of Lumped vs Distributed RC)这一页通过数据和波形对比，量化了“集总模型”（Slide 14）和“分布模型”（Slide 16-17）在响应速度上的差异，并得出了工程设计中的关键结论。1. 响应时间的数值对比（表格分析）表格列出了三种不同定义的电压响应时间与时间常数（RC）的比例关系：$0 \\to 50\\% (t_p)$：即传播延时 (Propagation Delay)。集总RC网络：遵从 $V(t) = 1 - e^{-t/RC}$，计算得到 $t_p = \\ln(2)RC \\approx \\mathbf{0.69 RC}$。分布RC网络：遵从扩散方程解，数值解约为 $\\mathbf{0.38 RC}$。结论：分布模型的延时远小于集总模型（$0.38 < 0.69$）。$0 \\to 63\\% (\\tau)$：即时间常数 (Time Constant)。集总模型为 $1 RC$。分布模型为 $0.5 RC$（这与Slide 18中Elmore延时的推导结果一致）。$10\\% \\to 90\\% (t_r)$：即上升时间 (Rise Time)。集总模型为 $2.2 RC$ ($\\ln(9)$)。分布模型为 $0.9 RC$。2. 阶跃响应波形对比（图形分析）输入：左侧电路图中的 $V_{in}(t)$ 为阶跃信号。输出：右侧波形图中，Lumped (集总) 曲线（下方的曲线）：上升较慢，因为我们将整根导线的电阻和电容集中在一起，电路必须先克服完整的R才能给完整的C充电。Distributed (分布) 曲线（上方的曲线）：上升较快。物理上是因为在分布模型中，靠近驱动端的电容可以较快充电（因为此时阻抗低），电压迅速建立，从而拉高了整体的平均响应速度。3. 工程结论（红色文字）PPT给出了极其重要的设计指导原则：“集总RC模型是分布模型的保守估计”。解释：由于集总模型计算出的延时（0.69 RC）总是大于分布模型的实际延时（0.38 RC），如果我们按照集总模型设计电路并满足了时序要求，那么在实际芯片中（表现为分布特性）它一定也能满足要求且有余量。这就是“保守（Conservative）”的含义——为了安全起见，我们有时会使用较悲观的模型。\n+\\subsection{阶跃响应对比 (集总 vs 分布)}\n+\n+\\concepttable{\n+    \\conrow{传播延时 $t_p$ (50\\%)}{集总：$t_p = \\ln(2)RC \\approx 0.69 RC$ \\par 分布：$t_p \\approx 0.38 RC$}\n+    \\conrow{时间常数 $\\tau$ (63\\%)}{集总：$\\tau = 1 RC$ \\par 分布：$\\tau = 0.5 RC$}\n+    \\conrow{上升时间 $t_r$ (10\\%-90\\%)}{集总：$t_r = 2.2 RC$ \\par 分布：$t_r = 0.9 RC$}\n }\n \n+\\imgleft[0.35]{images/image-2025-12-31-12-50-00.png}{\n+    \\entry{波形分析}{\n+        \\concepttable{\n+            \\conrow{集总模型}{上升沿较缓。电流必须流经完整电阻 $R$ 才能为总电容 $C$ 充电。}\n+            \\conrow{分布模型}{上升沿较陡。靠近驱动端的电容路径阻抗极低，可迅速建立电压。}\n+        }\n+    }\n+    \\entry{工程结论}{\\red{集总 RC 模型是分布模型的保守估计}。若电路在集总模型下满足时序要求，则在实际分布环境下必有性能余量。}\n+}\n+\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                },
                {
                    "date": 1767157434775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -962,9 +962,8 @@\n }\n \n }\n \n-集总与分布RC的阶跃响应 (Step Response of Lumped vs Distributed RC)这一页通过数据和波形对比，量化了“集总模型”（Slide 14）和“分布模型”（Slide 16-17）在响应速度上的差异，并得出了工程设计中的关键结论。1. 响应时间的数值对比（表格分析）表格列出了三种不同定义的电压响应时间与时间常数（RC）的比例关系：$0 \\to 50\\% (t_p)$：即传播延时 (Propagation Delay)。集总RC网络：遵从 $V(t) = 1 - e^{-t/RC}$，计算得到 $t_p = \\ln(2)RC \\approx \\mathbf{0.69 RC}$。分布RC网络：遵从扩散方程解，数值解约为 $\\mathbf{0.38 RC}$。结论：分布模型的延时远小于集总模型（$0.38 < 0.69$）。$0 \\to 63\\% (\\tau)$：即时间常数 (Time Constant)。集总模型为 $1 RC$。分布模型为 $0.5 RC$（这与Slide 18中Elmore延时的推导结果一致）。$10\\% \\to 90\\% (t_r)$：即上升时间 (Rise Time)。集总模型为 $2.2 RC$ ($\\ln(9)$)。分布模型为 $0.9 RC$。2. 阶跃响应波形对比（图形分析）输入：左侧电路图中的 $V_{in}(t)$ 为阶跃信号。输出：右侧波形图中，Lumped (集总) 曲线（下方的曲线）：上升较慢，因为我们将整根导线的电阻和电容集中在一起，电路必须先克服完整的R才能给完整的C充电。Distributed (分布) 曲线（上方的曲线）：上升较快。物理上是因为在分布模型中，靠近驱动端的电容可以较快充电（因为此时阻抗低），电压迅速建立，从而拉高了整体的平均响应速度。3. 工程结论（红色文字）PPT给出了极其重要的设计指导原则：“集总RC模型是分布模型的保守估计”。解释：由于集总模型计算出的延时（0.69 RC）总是大于分布模型的实际延时（0.38 RC），如果我们按照集总模型设计电路并满足了时序要求，那么在实际芯片中（表现为分布特性）它一定也能满足要求且有余量。这就是“保守（Conservative）”的含义——为了安全起见，我们有时会使用较悲观的模型。\n \\subsection{阶跃响应对比 (集总 vs 分布)}\n \n \\concepttable{\n     \\conrow{传播延时 $t_p$ (50\\%)}{集总：$t_p = \\ln(2)RC \\approx 0.69 RC$ \\par 分布：$t_p \\approx 0.38 RC$}\n"
                },
                {
                    "date": 1767157459890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -962,26 +962,9 @@\n }\n \n }\n \n-\\subsection{阶跃响应对比 (集总 vs 分布)}\n \n-\\concepttable{\n-    \\conrow{传播延时 $t_p$ (50\\%)}{集总：$t_p = \\ln(2)RC \\approx 0.69 RC$ \\par 分布：$t_p \\approx 0.38 RC$}\n-    \\conrow{时间常数 $\\tau$ (63\\%)}{集总：$\\tau = 1 RC$ \\par 分布：$\\tau = 0.5 RC$}\n-    \\conrow{上升时间 $t_r$ (10\\%-90\\%)}{集总：$t_r = 2.2 RC$ \\par 分布：$t_r = 0.9 RC$}\n-}\n-\n-\\imgleft[0.35]{images/image-2025-12-31-12-50-00.png}{\n-    \\entry{波形分析}{\n-        \\concepttable{\n-            \\conrow{集总模型}{上升沿较缓。电流必须流经完整电阻 $R$ 才能为总电容 $C$ 充电。}\n-            \\conrow{分布模型}{上升沿较陡。靠近驱动端的电容路径阻抗极低，可迅速建立电压。}\n-        }\n-    }\n-    \\entry{工程结论}{\\red{集总 RC 模型是分布模型的保守估计}。若电路在集总模型下满足时序要求，则在实际分布环境下必有性能余量。}\n-}\n-\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                },
                {
                    "date": 1767157487810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -962,9 +962,26 @@\n }\n \n }\n \n+\\subsubsection{阶跃响应对比 (集总 vs 分布)}\n \n+\\concepttable{\n+    \\conrow{传播延时 $t_p$ (50\\%)}{集总：$t_p = \\ln(2)RC \\approx 0.69 RC$ \\par 分布：$t_p \\approx 0.38 RC$}\n+    \\conrow{时间常数 $\\tau$ (63\\%)}{集总：$\\tau = 1 RC$ \\par 分布：$\\tau = 0.5 RC$}\n+    \\conrow{上升时间 $t_r$ (10\\%-90\\%)}{集总：$t_r = 2.2 RC$ \\par 分布：$t_r = 0.9 RC$}\n+}\n+\n+\\imgleft[0.35]{example.png}{\n+    \\entry{波形分析}{\n+        \\concepttable{\n+            \\conrow{集总模型}{上升沿较缓。电流必须流经完整电阻 $R$ 才能为总电容 $C$ 充电。}\n+            \\conrow{分布模型}{上升沿较陡。靠近驱动端的电容路径阻抗极低，可迅速建立电压。}\n+        }\n+    }\n+    \\entry{工程结论}{\\red{集总 RC 模型是分布模型的保守估计}。若电路在集总模型下满足时序要求，则在实际分布环境下必有性能余量。}\n+}\n+\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                },
                {
                    "date": 1767157508422,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -970,18 +970,18 @@\n     \\conrow{时间常数 $\\tau$ (63\\%)}{集总：$\\tau = 1 RC$ \\par 分布：$\\tau = 0.5 RC$}\n     \\conrow{上升时间 $t_r$ (10\\%-90\\%)}{集总：$t_r = 2.2 RC$ \\par 分布：$t_r = 0.9 RC$}\n }\n \n-\\imgleft[0.35]{example.png}{\n-    \\entry{波形分析}{\n+\n+\\entry{波形分析}{\n         \\concepttable{\n             \\conrow{集总模型}{上升沿较缓。电流必须流经完整电阻 $R$ 才能为总电容 $C$ 充电。}\n             \\conrow{分布模型}{上升沿较陡。靠近驱动端的电容路径阻抗极低，可迅速建立电压。}\n         }\n-    }\n-    \\entry{工程结论}{\\red{集总 RC 模型是分布模型的保守估计}。若电路在集总模型下满足时序要求，则在实际分布环境下必有性能余量。}\n }\n+\\entry{工程结论}{\\red{集总 RC 模型是分布模型的保守估计}。若电路在集总模型下满足时序要求，则在实际分布环境下必有性能余量。}\n \n+\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                },
                {
                    "date": 1767157575174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -964,8 +964,10 @@\n }\n \n \\subsubsection{阶跃响应对比 (集总 vs 分布)}\n \n+量化集总模型和分布模型在响应速度上的差异：\n+\n \\concepttable{\n     \\conrow{传播延时 $t_p$ (50\\%)}{集总：$t_p = \\ln(2)RC \\approx 0.69 RC$ \\par 分布：$t_p \\approx 0.38 RC$}\n     \\conrow{时间常数 $\\tau$ (63\\%)}{集总：$\\tau = 1 RC$ \\par 分布：$\\tau = 0.5 RC$}\n     \\conrow{上升时间 $t_r$ (10\\%-90\\%)}{集总：$t_r = 2.2 RC$ \\par 分布：$t_r = 0.9 RC$}\n"
                },
                {
                    "date": 1767157655692,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -972,18 +972,18 @@\n     \\conrow{时间常数 $\\tau$ (63\\%)}{集总：$\\tau = 1 RC$ \\par 分布：$\\tau = 0.5 RC$}\n     \\conrow{上升时间 $t_r$ (10\\%-90\\%)}{集总：$t_r = 2.2 RC$ \\par 分布：$t_r = 0.9 RC$}\n }\n \n-\n-\\entry{波形分析}{\n+\\imgleft[0.4]{images/image-2025-12-31-13-06-57.png}{\n+    \\entry{波形分析}{\n         \\concepttable{\n             \\conrow{集总模型}{上升沿较缓。电流必须流经完整电阻 $R$ 才能为总电容 $C$ 充电。}\n             \\conrow{分布模型}{上升沿较陡。靠近驱动端的电容路径阻抗极低，可迅速建立电压。}\n-        }\n+        }   \n+    }\n+    \\entry{工程结论}{\\red{集总 RC 模型是分布模型的保守估计}。若电路在集总模型下满足时序要求，则在实际分布环境下必有性能余量。}\n }\n-\\entry{工程结论}{\\red{集总 RC 模型是分布模型的保守估计}。若电路在集总模型下满足时序要求，则在实际分布环境下必有性能余量。}\n \n-\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                },
                {
                    "date": 1767157695323,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -967,9 +967,9 @@\n \n 量化集总模型和分布模型在响应速度上的差异：\n \n \\concepttable{\n-    \\conrow{传播延时 $t_p$ (50\\%)}{集总：$t_p = \\ln(2)RC \\approx 0.69 RC$ \\par 分布：$t_p \\approx 0.38 RC$}\n+    \\conrow{传播延时 $t_p$ (50\\%)}{集总：$t_p = 0.69 RC$ \\par 分布：$t_p \\approx 0.38 RC$}\n     \\conrow{时间常数 $\\tau$ (63\\%)}{集总：$\\tau = 1 RC$ \\par 分布：$\\tau = 0.5 RC$}\n     \\conrow{上升时间 $t_r$ (10\\%-90\\%)}{集总：$t_r = 2.2 RC$ \\par 分布：$t_r = 0.9 RC$}\n }\n \n"
                },
                {
                    "date": 1767157787030,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -982,8 +982,14 @@\n     }\n     \\entry{工程结论}{\\red{集总 RC 模型是分布模型的保守估计}。若电路在集总模型下满足时序要求，则在实际分布环境下必有性能余量。}\n }\n \n+\\subsubsection{考虑驱动器内阻的分布模型}\n+\n+\\imgleft[0.4]{images/image-2025-12-31-13-09-33.png}{}\n+\n+\n+\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                },
                {
                    "date": 1767157976150,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -984,12 +984,27 @@\n }\n \n \\subsubsection{考虑驱动器内阻的分布模型}\n \n-\\imgleft[0.4]{images/image-2025-12-31-13-09-33.png}{}\n+实际的CMOS反相器或逻辑门是有输出电阻的：\n \n+\\imgleft[0.4]{images/image-2025-12-31-13-09-33.png}{\n \n+\\entry{电路模型}{驱动器建模为理想电压源串联内阻 $R_s$。}\n+\\concepttable{\n+    \\conrow{电阻叠加}{首个节点充电路径包含 $R_s$，即 $R_1 = R_s + r\\Delta l$。后续所有节点路径均包含 $R_s$。}\n+    \\conrow{Elmore 延时}{将 $R_s$ 影响与导线自阻分离：$\\tau_D = R_s C_w + \\frac{RC}{2} = R_s (cL) + \\frac{rcL^2}{2}$。}\n+}\n+\\entry{传播延时 $t_p$}{结合集总与分布特性的系数修正，将时间常数转化为 50\\% 延时：}\n+\\concepttable{\n+    \\conrow{计算公式}{$\\boxed{t_p = 0.69 R_s C_w + 0.38 r c L^2}$}\n+    \\conrow{物理意义}{第一项对应 $R_s$ 驱动集总电容（系数 0.69）；第二项对应导线内部分布 $RC$ 特性（系数 0.38）。}\n+}\n \n+}\n+\n+\n+\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                },
                {
                    "date": 1767157994059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -988,23 +988,23 @@\n 实际的CMOS反相器或逻辑门是有输出电阻的：\n \n \\imgleft[0.4]{images/image-2025-12-31-13-09-33.png}{\n \n-\\entry{电路模型}{驱动器建模为理想电压源串联内阻 $R_s$。}\n-\\concepttable{\n-    \\conrow{电阻叠加}{首个节点充电路径包含 $R_s$，即 $R_1 = R_s + r\\Delta l$。后续所有节点路径均包含 $R_s$。}\n-    \\conrow{Elmore 延时}{将 $R_s$ 影响与导线自阻分离：$\\tau_D = R_s C_w + \\frac{RC}{2} = R_s (cL) + \\frac{rcL^2}{2}$。}\n+    \\entry{电路模型}{驱动器建模为理想电压源串联内阻 $R_s$。}\n+    \\concepttable{\n+        \\conrow{电阻叠加}{首个节点充电路径包含 $R_s$，即 $R_1 = R_s + r\\Delta l$。后续所有节点路径均包含 $R_s$。}\n+        \\conrow{Elmore 延时}{将 $R_s$ 影响与导线自阻分离：$\\tau_D = R_s C_w + \\frac{RC}{2} = R_s (cL) + \\frac{rcL^2}{2}$。}\n+    }\n+\n }\n+\n \\entry{传播延时 $t_p$}{结合集总与分布特性的系数修正，将时间常数转化为 50\\% 延时：}\n \\concepttable{\n     \\conrow{计算公式}{$\\boxed{t_p = 0.69 R_s C_w + 0.38 r c L^2}$}\n     \\conrow{物理意义}{第一项对应 $R_s$ 驱动集总电容（系数 0.69）；第二项对应导线内部分布 $RC$ 特性（系数 0.38）。}\n }\n \n-}\n \n-\n-\n \\subsection{长导线的延时优化}\n \n \\section{第六章\\ 组合逻辑}\n \n"
                }
            ],
            "date": 1767155038943,
            "name": "Commit-0",
            "content": "\\documentclass[10pt, a4paper, landscape]{article}\n\n% -------------------------------------------------\n% 宏包引入\n% -------------------------------------------------\n\\usepackage[fontset=mac]{ctex}       % 中文支持\n\\usepackage{multicol}   % 多分栏\n\\usepackage{calc}\n\\usepackage{ifthen}\n\\usepackage[landscape]{geometry} % 页面设置\n\\usepackage{amsmath,amsthm,amsfonts,amssymb} % 数学公式\n\\usepackage{color,graphicx,overpic} % 颜色与图片\n\\usepackage{hyperref}   % 超链接\n\\usepackage{enumitem}   % 列表环境控制\n\\usepackage{titlesec}   % 标题控制\n\\usepackage{bm}         % 加粗数学符号\n\\usepackage{xcolor}\n\\usepackage{tikz}       % 绘图\n\\usetikzlibrary{decorations.pathreplacing, positioning} % 加载brace装饰库\n\\usetikzlibrary{calc, positioning, arrows.meta, decorations.markings}\n\\setCJKmainfont{PingFang SC}\n\\setCJKsansfont{PingFang SC}\n\\setCJKmonofont{PingFang SC}\n\n% -------------------------------------------------\n% 自定义颜色\n% -------------------------------------------------\n\n\\definecolor{myblue}{HTML}{003153} % 蓝色字\n\\definecolor{myred}{HTML}{85120F}  % 红色字\n\\definecolor{hlblue}{HTML}{7090D3} % 蓝色高亮\n\\definecolor{hlred}{HTML}{D66A83}  % 红色高亮\n\\definecolor{hlyellow}{HTML}{E3C79F}  % 奢金高亮\n\\definecolor{hlgreen}{HTML}{BED49D}  % 抹茶绿高亮\n\n% -------------------------------------------------\n% 极限空间压缩设置 (核心部分)\n% -------------------------------------------------\n\n% 1. 页边距设置为极小 (0.5cm)\n\\geometry{top=0.5cm,left=0.5cm,right=0.5cm,bottom=0.5cm}\n\n% 2. 去掉段落首行缩进，改为段落间略微留空（可选，这里为了紧凑设为0）\n\\setlength{\\parindent}{0pt}\n\\setlength{\\parskip}{0pt}\n\n% 3. 设置正文基础字体大小为 scriptsize (约8pt)，如果还觉得大，可以改为 \\tiny\n\\renewcommand{\\baselinestretch}{0.9} % 压缩行间距\n\\let\\oldfootnotesize\\footnotesize\n\\renewcommand{\\footnotesize}{\\fontsize{7pt}{8pt}\\selectfont}\n\n% 4. 压缩列表环境 (Itemize/Enumerate) 的间距\n\\setlist{nolistsep} \n\\setlist[itemize]{leftmargin=*}\n\\setlist[enumerate]{leftmargin=*}\n\n% 5. 压缩标题间距\n\\titleformat{\\section}{\\bfseries\\scriptsize\\color{myblue}}{}{0em}{}[\\hrule] % 标题带下划线，蓝色，省空间\n\\titlespacing*{\\section}{0pt}{2pt}{1pt} % 上方留2pt，下方留1pt\n\\titleformat{\\subsection}\n    [runin] % 不换行\n    {\\bfseries\\scriptsize} % 粗体、scriptsize，黑色字体\n    {} % 不显示编号\n    {0pt} % 标题与正文间距\n    {\\hlyellow} % 用hlyellow高亮命令包裹标题\n    [] % 标题内容后无内容\n\\titleformat{\\subsubsection}\n    [runin] % 不换行\n    {\\bfseries\\tiny} % 粗体、scriptsize，黑色字体\n    {} % 不显示编号\n    {0pt} % 标题与正文间距\n    {\\hlgreen} % 用hlgreen高亮命令包裹标题\n    [] % 标题内容后无内容\n\\titlespacing*{\\subsection}{0pt}{1pt}{0.5em} % 上方1pt,下方0.5em(水平间距)\n\\titlespacing*{\\subsubsection}{0pt}{1pt}{0.5em} % 上方1pt,下方0.5em(水平间距)\n\n% -------------------------------------------------\n% 自定义命令\n% -------------------------------------------------\n% 颜色字\n\\newcommand{\\red}[1]{\\textbf{\\textcolor{myred}{#1}}}  \n\\newcommand{\\blue}[1]{\\textbf{\\textcolor{myblue}{#1}}} \n\\newcommand{\\entry}[2]{$\\bullet$ \\textbf{#1}: #2\\par\\vspace{0.5pt}}\n% 高亮\n\\newcommand{\\cbox}[2][yellow]{\\begingroup\\setlength{\\fboxsep}{1pt}\\colorbox{#1}{\\strut#2}\\endgroup}\n\\newcommand{\\hlblue}[1]{\\cbox[hlblue]{#1}}\n\\newcommand{\\hlred}[1]{\\cbox[hlred]{#1}}\n\\newcommand{\\hlyellow}[1]{\\cbox[hlyellow]{#1}}\n\\newcommand{\\hlgreen}[1]{\\cbox[hlgreen]{#1}} \n% 图片插入\n\\newcommand{\\img}[2][0.9\\linewidth]{%\n    {\\par\\vspace{1pt}\\centering\\includegraphics[width=#1]{#2}\\par\\vspace{1pt}}%\n}\n% 左图右文 (参数: [图片宽度比例]{图片路径}{右侧文字内容})\n\\newcommand{\\imgleft}[3][0.3]{%\n    \\noindent\\begin{minipage}[t]{#1\\linewidth}%\n        \\vspace{0pt}%\n        \\includegraphics[width=\\linewidth]{#2}%\n    \\end{minipage}%\n    \\hfill%\n    \\begin{minipage}[t]{0.98\\linewidth - #1\\linewidth}%\n        \\vspace{0pt}%\n        #3%\n    \\end{minipage}\\par\\vspace{2pt}%\n}\n% 左文右图 (参数: [图片宽度比例]{图片路径}{左侧文字内容})\n\\newcommand{\\imgright}[3][0.3]{%\n    \\noindent\\begin{minipage}[t]{0.98\\linewidth - #1\\linewidth}%\n        \\vspace{0pt}%\n        #3%\n    \\end{minipage}%\n    \\hfill%\n    \\begin{minipage}[t]{#1\\linewidth}%\n        \\vspace{0pt}%\n        \\includegraphics[width=\\linewidth]{#2}%\n    \\end{minipage}\\par\\vspace{2pt}%\n}\n% -------------------------------------------------\n% 新增：概念速查表专用命令\n% -------------------------------------------------\n% 表格容器\n\\newcommand{\\concepttable}[1]{%\n    {\\setlength{\\tabcolsep}{1.5pt}% 局部减小列间距\n     \\renewcommand{\\arraystretch}{0.92}% 局部紧缩行距\n     \\par\\vspace{2pt}{\\color{myblue}\\hrule height 0.6pt}\\vspace{1pt}% 上边框(蓝色,0.6pt粗)\n     \\noindent\\begin{tabular}{@{}p{0.22\\linewidth}p{0.76\\linewidth}@{}}%\n     #1%\n     \\end{tabular}%\n     \\vspace{1pt}{\\color{myblue}\\hrule height 0.6pt}\\par\\vspace{2pt}}% 下边框(蓝色,0.6pt粗)\n}\n% 表格行 (参数: {概念名}{解释})\n\\newcommand{\\conrow}[2]{\\blue{#1} & #2 \\\\}\n\n\n\n\n% -------------------------------------------------\n% 正文\n% -------------------------------------------------\n\\begin{document}\n\n\\tiny\n\n% 三栏布局\n\\begin{multicols*}{3}\n\n\\section{第一章\\ 集成电路器件基础}\n\n\\subsection{MOS 管寄生效应}（主要是 MOS 器件电容模型）\n\n\\entry{主要耦合电容}{任意两端子间均存在电容耦合：}\n    \\concepttable{\n        \\conrow{$C_{GS}, C_{GD}$}{栅-源 / 栅-漏电容}\n        \\conrow{$C_{GB}$}{栅-衬底电容}\n        \\conrow{$C_{SB}, C_{DB}$}{源-衬底 / 漏-衬底电容}\n}\n\n\\imgleft[0.4]{images/image-2025-12-30-18-17-15.png}{\n\n    \\entry{电容分解}{分为\\red{本征部分}（沟道相关）与\\red{寄生部分}（结构决定）：}\n    \\concepttable{\n        \\conrow{栅源电容}{\\red{$C_{GS} = C_{GCS} + C_{GSO}$}\\par\n        $C_{GCS}$ 为本征栅-沟道-源电容\\par\n        $C_{GSO}$ 为栅-源\\red{覆盖寄生电容}。}\n        \\conrow{栅漏电容}{\\red{$C_{GD} = C_{GCD} + C_{GDO}$}\\par\n        $C_{GCD}$ 为本征栅-沟道-漏电容\\par\n        $C_{GDO}$ 为栅-漏\\red{覆盖寄生电容}。}\n        \\conrow{栅衬底电容}{$C_{GB} = C_{GCB}$，主要考虑本征栅-沟道-衬底电容。}\n        \\conrow{源漏衬底电容}{$C_{SB}, C_{DB}$，主要由源/漏扩散区与衬底形成的 PN 结电容 $C_{Sdiff}, C_{Ddiff}$ 构成。}\n    }\n\n}\n\n\\subsubsection{覆盖寄生电容}\n\n\\entry{定义}{栅极与源/漏扩散区重叠部分形成的电容，称为\\red{覆盖寄生电容}。}\n\n\\imgleft[0.4]{images/image-2025-12-30-18-31-44.png}{\n\n\\entry{物理成因}{由于横向扩散效应，源/漏杂质向栅极下方扩散 $x_d$，导致栅极边缘与源/漏区在垂直方向重叠形成平板电容。}\n\n\\concepttable{\n    \\conrow{线性特性}{大小仅取决于几何尺寸，不随偏置电压变化，属于\\red{线性电容}。}\n    \\conrow{密勒效应}{连接在输入（栅）与输出（漏）间的 $C_{GDO}$ 会受\\red{密勒效应}影响被放大。}\n    \\conrow{计算公式}{$C_{GSO} = C_{GDO} = C_{ox} x_d W = C_o W$}\n}\n\n\\entry{参数说明}{$C_{ox}$ 为单位面积氧化层电容，$x_d$ 为横向扩散长度，$W$ 为晶体管宽度，$C_o = C_{ox}x_d$ 为单位宽度的覆盖电容。}\n\n}\n\n\\subsubsection{PN 结电容}\n\n\\entry{定义}{即源/漏区与衬底间的电容（$C_{SB}, C_{DB}$），由反偏 PN 结的势垒电容（耗尽电容）构成。}\n\n\\imgleft[0.35]{images/image-2025-12-30-18-37-19.png}{\n    \\concepttable{\n        \\conrow{物理结构}{源/漏重掺杂区与衬底形成 PN 结。为防止漏电，常通过“沟道阻挡注入”增加侧壁掺杂浓度。}\n        \\conrow{底板电容}{对应扩散区底面积 $AREA = L_S \\times W$\\par\n        \\red{计算项：}$C_{bottom} = C_j \\times AREA$，$C_j$ 为单位面积结电容。}\n        \\conrow{侧壁电容}{对应扩散区侧面周长 $PERIMETER = 2L_S + W$（不含面向沟道的一侧）。\\par\n        \\red{计算项：}$C_{sw} = C_{jsw} \\times PERIMETER$。}\n        \\conrow{总扩散电容}{$C_{diff} = C_j L_S W + C_{jsw}(2L_S + W)$}\n    }\n}\n\n\\subsubsection{栅沟道电容（本征电容）}\n\n由于不同工作区的沟道形态不同，栅沟道电容也不同：\n\n\\imgleft[0.5]{images/image-2025-12-30-18-26-22.png}{\n    {\\setlength{\\tabcolsep}{1pt}\n    \\begin{tabular}{l|ccc}\n    \\hline\n    \\blue{工作区} & \\blue{$C_{GCB}$} & \\blue{$C_{GCS}$} & \\blue{$C_{GCD}$} \\\\ \\hline\n    \\red{截止} & $C_{ox}WL$ & 0 & 0 \\\\\n    \\red{线性（电阻区）} & 0 & $\\frac{1}{2}C_{ox}WL$ & $\\frac{1}{2}C_{ox}WL$ \\\\\n    \\red{饱和} & 0 & $\\frac{2}{3}C_{ox}WL$ & 0 \\\\ \\hline\n    \\end{tabular}}\n}\n\n\\subsection{阈值电压}\n\n（这部分看半导体器件物理 cheatsheet 观感更佳）\n\n\\entry{定义}{$V_T$ 是表面载流子浓度等于衬底掺杂浓度（强反型）时的 $V_{GS}$。此时表面电势 $\\phi_s$ 达到 $2\\phi_F$。}\n\n\\concepttable{\n    \\conrow{功函数差 $\\phi_{ms}$}{抵消金属与半导体费米能级不匹配，由材料本征属性决定。}\n    \\conrow{耗尽电荷 $Q_B$}{补偿耗尽层固定电荷。NMOS 中 $Q_B < 0$，对应项 $-\\frac{Q_B}{C_{ox}}$ 为正。}\n    \\conrow{强反型电势 $2\\phi_F$}{产生强反型所需的能带弯曲量。P 衬底 $\\phi_F < 0$，项 $-2\\phi_F$ 为正。}\n    \\conrow{表面电荷 $Q_{SS}$}{氧化层界面正电荷，有助于感应电子，从而降低 $V_T$。项 $-\\frac{Q_{SS}}{C_{ox}}$ 为负。}\n    \\conrow{注入电荷 $Q_I$}{工艺调节项，通过离子注入（如 P 注入）精确修正 $V_T$ 数值。}\n}\n\n\\entry{汇总公式}{$\\boxed{V_T = \\phi_{ms} - 2\\phi_F - \\frac{Q_B}{C_{ox}} - \\frac{Q_{SS}}{C_{ox}} - \\frac{Q_I}{C_{ox}}}$}\n\n\\entry{物理本质}{$V_T$ 是克服材料差异、抵消干扰电荷、平衡耗尽层并建立强反型表面电势所需的栅极电压总和。}\n\n\\subsection{速度饱和}\n\n这个暂时没在 PPT 上找到，先空着吧。\n\n\\subsection{互补网络}\n\n\\entry{架构组成}{由两个相互关联的网络组成：}\n\n\\imgleft[0.25]{images/image-2025-12-30-18-44-30.png}{\n    \n    \\concepttable{\n        \\conrow{上拉网络 (PUN)}{连接 $V_{DD}$ 与输出 $F$。满足条件 $G$ 时导通，将输出上拉至 \\red{Logic 1}。}\n        \\conrow{下拉网络 (PDN)}{连接 $GND$ 与输出 $F$。满足条件 $\\bar{G}$ 时导通，将输出下拉至 \\red{Logic 0}。}\n    }\n    \\entry{布尔表达式}{工作原理遵循 $F = 1 \\cdot G + 0 \\cdot \\bar{G} = G$。}\n    \\entry{互补性}{PUN 与 PDN 必须\\red{互斥}（稳态下不能同时导通或截止），以确保输出电平确定并消除静态功耗。}\n}\n\n\\subsection{习题解析}\n\n\\subsubsection{课堂练习}\n\n主要就是一些判断逻辑以及跟器件强相关的题目，和模电很像。\n\n\\imgleft[0.2]{images/image-2025-12-30-18-50-54.png}{\n    \\entry{例题 1}{考虑图中的静态互补CMOS逻辑门，写出它的布尔表达式（注意化简）。}\n    \\entry{启发意义}{没啥启发意义。}\n}\n\n\\entry{解答}{这道题看下拉网络比较好判断逻辑，答案是 $F = \\overline{A B + C D}$。}\n\n\\imgleft[0.3]{images/image-2025-12-30-18-54-44.png}{\n    \\entry{例题 2}{计算两个宽长比分别为$W1/L$和$W2/L$的串联NMOS晶体管的等效宽长比\n$W/L$。忽略体效应，阈值电压恒定。}\n    \\entry{启发意义}{单看题目只是一个模集的题，但是为后面计算串联尺寸系数打下基础。}\n}\n\n\\entry{解答}{\n        \\entry{推导前提}{利用线性区电流公式 $I_{DS} = k' \\frac{W}{L} [(V_{GS} - V_{T0})V_{DS} - \\frac{1}{2}V_{DS}^2]$，基于电流连续性（$I_{DS1} = I_{DS2}$）进行推导。}\n\n        \\concepttable{\n            \\conrow{M2 (下管)}{$I_{DS} = k' \\frac{W_2}{L} [ (V_{GS} - V_{T0})V_{DS2} - \\frac{1}{2}V_{DS2}^2 ]$}\n            \\conrow{M1 (上管)}{$I_{DS} = k' \\frac{W_1}{L} [ (V_{GS} - V_{DS2} - V_{T0})(V_{DS} - V_{DS2}) - \\frac{1}{2}(V_{DS} - V_{DS2})^2 ]$}\n        }\n\n        \\entry{代数变换}{展开 M1 方程并提取项，可发现其包含 M2 的电压项。整理得：$I_{DS} = k' \\frac{W_1}{L} [ ((V_{GS}-V_{T0})V_{DS} - \\frac{1}{2}V_{DS}^2) - \\frac{I_{DS}}{k' (W_2/L)} ]$。}\n\n        \\entry{等效结果}{将 $I_{DS}$ 项移项合并，对比标准方程可得：$\\boxed{\\frac{1}{W_{eq}} = \\frac{1}{W_1} + \\frac{1}{W_2}}$ 或 $\\boxed{W_{eq} = \\frac{W_1 W_2}{W_1 + W_2}}$。}\n\n        \\entry{物理意义与设计指导}{\n            \\concepttable{\n                \\conrow{电阻类比}{导通电阻 $R_{on} \\propto L/W$。串联电阻 $R_{eq} = R_1 + R_2$ 对应 $\\frac{L}{W_{eq}} = \\frac{L}{W_1} + \\frac{L}{W_2}$。}\n                \\conrow{尺寸补偿}{串联会降低驱动能力。若要使两个串联管等效于宽度为 $W$ 的单管，则每个管子宽度需设为 \\red{$2W$}。}\n            }\n        }\n}\n\n\\subsubsection{作业题}\n\n有一些奇奇怪怪的题，不知道牢王都从哪找的。\n\n\\imgleft[0.2]{images/image-2025-12-30-19-03-08.png}{\n    \\entry{作业 1-1}{\n        \\begin{enumerate}[label=(\\arabic*)]\n            \\item 考虑下图的静态互补 CMOS 逻辑门，写出布尔表达式（注意化简），并画出下拉网络结构；\n            \\item 画出实现 $Y = AB + C(D + E)$ 的静态互补 CMOS 逻辑门电路的晶体管级电路图。\n        \\end{enumerate}\n    }\n    \\entry{启发意义}{这道题的上拉电路给的很怪，没有办法直接看出逻辑表达式，需要通过分析通路来推导。}\n}\n\n\\entry{第一步}{寻找从 $V_{DD}$ 到 Output 所有可能通路（PMOS 导通需低电平）：}\n\\concepttable{\n    \\conrow{直接路径}{路径 1：$\\overline{A}\\overline{C}$；路径 2：$\\overline{B}\\overline{D}$}\n    \\conrow{跨桥路径}{路径 3：$\\overline{A}\\overline{E}\\overline{D}$；路径 4：$\\overline{B}\\overline{E}\\overline{C}$}\n    \\conrow{PUN 逻辑}{$F = \\overline{A}\\overline{C} + \\overline{B}\\overline{D} + \\overline{A}\\overline{E}\\overline{D} + \\overline{B}\\overline{E}\\overline{C}$}\n}\n\n\\entry{第二步}{推导下拉网络 (PDN) 的导通条件：}\n\\concepttable{\n    \\conrow{设计原理}{CMOS 逻辑具有反相特性。PDN 由 NMOS 构成（高电平导通），需满足输出为低电平 (\\red{Logic 0}) 的条件，即求 $\\overline{Out}$。}\n    \\conrow{德·摩根变换}{对 PUN 表达式整体取反：$\\overline{Out} = \\overline{(\\bar{A}\\bar{C} + \\bar{A}\\bar{E}\\bar{D} + \\bar{B}\\bar{D} + \\bar{B}\\bar{E}\\bar{C})}$}\n    \\conrow{逻辑展开}{根据 $\\overline{X+Y} = \\bar{X} \\cdot \\bar{Y}$，得 $\\overline{Out} = (\\overline{\\bar{A}\\bar{C}}) \\cdot (\\overline{\\bar{A}\\bar{E}\\bar{D}}) \\cdot (\\overline{\\bar{B}\\bar{D}}) \\cdot (\\overline{\\bar{B}\\bar{E}\\bar{C}})$}\n    \\conrow{去反号}{根据 $\\overline{XY} = \\bar{X} + \\bar{Y}$，得 $\\overline{Out} = (A+C)(A+E+D)(B+D)(B+E+C)$}\n}\n\n\\imgleft[0.3]{images/image-2025-12-30-19-16-37.png}{\n    \\entry{代数化简}{通过提取公因式进行重组：}\n    \\concepttable{\n        \\conrow{分组观察}{前两项含 $A$，后两项含 $B$。利用分配律：$(A+C)(A+E+D) = A + C(E+D)$}\n        \\conrow{最终嵌套形式}{$\\overline{Out} = AB+AED+CD+BEC$}\n        \\conrow{电路对应}{该表达式直接决定了 PDN 的串并联拓扑结构。}\n    }\n}\n\n\\entry{作业 1-2}{请分别解释说明体效应、短沟效应、 DIBL对阈值电压影响及原理。}\n\n\\entry{启发意义}{一些牢王自己忘记讲的概念}\n\n\\entry{解析}{\n\n\\concepttable{\n    \\conrow{体效应}{当 $V_{SB} > 0$ 时，更多负电荷聚集在栅氧化层下，增加了耗尽层电荷，导致 \\red{$V_T$ 增加}。公式：$V_T = V_{T0} + \\gamma (\\sqrt{V_{SB} + |2\\phi_F|} - \\sqrt{|2\\phi_F|})$。源端势垒上升，\\red{需更大栅压克服势垒}。}\n    \\conrow{短沟道效应}{当 $L$ 减小时，\\red{$V_T$ 随之减小}。部分栅下区域空穴被漏-衬底 PN 结电场耗尽，导致 $Q_B$ 下降；同时 MOS 效应影响区域比例变小，导致 $V_{T0}$ 下降。}\n    \\conrow{DIBL 效应}{漏端感应势垒降低。$V_{DS}$ 增加使漏端耗尽区扩大并接近源端，引起源端势垒降低，使源区注入电子增加，导致 \\red{$V_T$ 下降}。}\n}\n\n}\n\n\\entry{作业 1-3}{请分别解释说明速度饱和对短沟器件和长沟器件的影响及原理。}\n\n\\entry{启发意义}{算是弥补上文缺失的速度补偿部分，牢王应该是又忘讲了。}\n\n\\entry{解析}{\n\\entry{载流子速度}{速度 $v$ 与电场 $E$ 的关系近似为：$v = \\frac{\\mu_n E}{1 + E/E_c}$。}\n\\concepttable{\n    \\conrow{临界电场 $E_c$}{速度饱和发生时的电场。连续性要求：当 $E=E_c$ 时，$v_{sat} = \\mu_n E_c / 2$。}\n    \\conrow{短沟道修正}{由于 $L$ 极小，水平电场大，很快达到饱和。修正公式：$I_D = k' [(V_{GS}-V_T)V_{DS} - \\frac{1}{2}V_{DS}^2] \\kappa(V_{DS})$，其中 $\\kappa(V) = \\frac{1}{1 + V/(E_c L)} < 1$。}\n}\n\n\\entry{饱和电压 $V_{DSAT}$}{由连续性要求解得：$V_{DSAT} = \\kappa(V_{GT})V_{GT}$。}\n\\concepttable{\n    \\conrow{物理结论}{因为 $\\kappa(V_{GT}) < 1$，所以 \\red{$V_{DSAT} < V_{GT}$}。短沟道器件速度饱和的 $V_{DSAT}$ 小于长沟道沟道夹断的 $V_{DSAT}$。}\n    \\conrow{长沟道特性}{当 $E_c \\gg V_{GT}/L$ 时，$I_{DSAT} = \\frac{1}{2} \\frac{W}{L} C_{ox} \\mu_n V_{GT}^2$，电流电压为\\red{二次关系}。}\n    \\conrow{短沟道特性}{当 $E_c \\ll V_{GT}/L$ 时，$I_{DSAT} = v_{sat} C_{ox} W V_{GT}$，电流电压为\\red{一次关系}。}\n}\n\n}\n\n\\imgleft[0.2]{images/image-2025-12-30-19-34-42.png}{\n    \\entry{作业 1-4}{如图所示电路，已知 M1 参数如下（忽略体效应和沟道长度调制效应）：\n\n    \\concepttable{\n        \\conrow{电压参数}{$V_{T0} = 0.43V, V_{DSAT} = 0.63V$}\n        \\conrow{工艺常数}{$k' = 115 \\times 10^{-6} A/V^2, C_{ox} = 6 fF/\\mu m^2$}\n        \\conrow{覆盖电容}{$C_{gso} = C_{gdo} = 0.31 fF/\\mu m$}\n    }\n\n    \\begin{enumerate}[label=(\\arabic*)]\n        \\item 当 $V_{in} = 2.5V$ 时，$V_{out}$ 的稳态电压（记为 $V_{OL}$）是多少？M1 管处在什么工作区？\n        \\item 如果 $V_{in}$ 从 $0V$ 上升到 $2.5V$，而 $V_{out}$ 的初始电压等于 $2.5V$，那么从 $In$ 端变化开始到 $V_{out}$ 达到稳态这个过程中由 $In$ 端注入的总净电荷量等于多少？\n    \\end{enumerate}\n\n    }\n}\n\n\\entry{解答 (1)}{采用假设-验证法确定 $V_{OL}$ 与工作区：}\n\\concepttable{\n    \\conrow{假设}{M1 工作在\\red{线性区}，即满足 $V_{OL} < V_{DSAT} = 0.63V$。}\n    \\conrow{方程组}{1. 线性区电流公式：$I_{ds} = k' \\frac{W}{L} [(V_{in} - V_{T0})V_{OL} - \\frac{1}{2}V_{OL}^2]$ \\par \n    2. 根据分压定律：$I_{ds} \\cdot R + V_{OL} = V_{DD}$ (KVL)}\n    \\conrow{参数代入}{$V_{DSAT} = V_{in}-V_{T0} = 2.07V$，$k'W/L = 460 \\mu A/V^2$，$R = 8k\\Omega$。}\n    \\conrow{计算结果}{解得 $V_{OL} \\approx 0.31V$ (另一解 $4.37V$ 舍去)。}\n    \\conrow{验证}{因 $0.31V < 0.63V$，假设成立，M1 确实处于\\red{线性区}。}\n}\n\n\\entry{\\red{解答 (2)}}{计算注入总净电荷 $\\Delta Q = Q_{final} - Q_{initial}$：}\n\\concepttable{\n    \\conrow{初始态 $Q_1$}{$V_{in}=0V, V_{out}=2.5V$ (\\red{截止区})。\\par\n    沟道未形成，$C_{GCB}$ 无压差。$C_{GCS} = 0$，且 GS 之间也没有压差，$C_{GCD} = 0$，但是 GD 之间存在电压  \\par \n    $Q_1 = C_{GD} \\times (V_G - V_D) = C_{gd0} \\times W \\times (V_G - V_D) = (0.31 \\times 1) \\times (0 - 2.5) = -0.775 fC$（这里完全是 PN 结扩散电容）}\n    \\conrow{稳态 $Q_2$}{$V_{in}=2.5V, V_{out}=0.31V$ (\\red{线性区})。沟道形成。 \\par \n    后面的计算留给读者自己完成，\\red{步骤就是：查表看电容 $\\rightarrow$ 看 GS、GD、GB 之间是否有电压$\\rightarrow$有电压有电容的地方计算电荷 $\\rightarrow$ 累加。}}\n    \\conrow{总注入量}{$\\Delta Q = 4.97 - (-0.775) = 5.745 fC$。}\n}\n\n\\section{第二章\\ 数字集成电路的速度}\n\n\\subsection{MOS 管电容模型}\n\n\\subsection{MOS 管的漏电流}\n\n\\subsection{逻辑门的静态特性}\n\n\\subsection{开关阈值（对称反相器）}\n\n\\subsection{CMOS 逻辑门的延时特性}\n\n\\subsection{本征延时、努力延时}\n\n\\subsection{逻辑努力（含义、计算）}\n\n\\subsection{关键路径的计算}\n\n\\subsection{逻辑路径的延时模型}\n\n\\subsection{尺寸优化问题}\n\n\\subsection{分支努力}\n\n\\section{第三章\\ 数字集成电路的功耗}\n\n\\subsection{动态功耗}\n\nCMOS功耗主要分为两大类：\n\n\\concepttable{\n    \\conrow{动态功耗}{电路逻辑状态\\red{翻转过程中产生的功耗}，分为充放电功耗和短路功耗。}\n    \\conrow{静态功耗}{\\red{电路处于稳态时}，由漏电流引起的功耗。}\n}\n\n动态功耗又可细分为：\n\n\\concepttable{\n    \\conrow{充放电功耗}{对负载电容进行充电和放电所消耗的能量。}\n    \\conrow{短路功耗}{输入翻转瞬间 PMOS 和 NMOS 同时导通，形成 $V_{dd}$ 到 GND 的瞬时通路。}\n}\n\n\\subsubsection{充放电功耗}\n\nCMOS 逻辑门的输出端可以等效为一个一阶 RC 电路。$V_{in}$ 代表逻辑切换，向负载电容 $C_L$ 充电。\n\n\\imgleft[0.4]{images/image-2025-12-29-16-42-55.png}{\n\n    \\concepttable{\n        \\conrow{总能耗 $E_{0 \\to 1}$}{输出从 0 翻转到 1 时，电源 $V_{dd}$ 提供的总能量为 $C_L V_{dd}^2$。}\n        \\conrow{存储能量 $E_{cap}$}{电容 $C_L$ 最终存储的电能为 $\\frac{1}{2} C_L V_{dd}^2$。}\n        \\conrow{能量损耗 $E_{res}$}{充电路径电阻上以热能形式耗散 $\\frac{1}{2} C_L V_{dd}^2$。}\n    }\n\n    \\red{结论}：在一个完整的翻转周期 ($0 \\to 1 \\to 0$) 中，\\red{电源消耗}的总能量为 $C_L V_{dd}^2$。\n}\n\n\\concepttable{\n        \\conrow{充电 ($0 \\to 1$)}{PMOS 导通，电源提供能量。一半存于电容，一半消耗在 PMOS 网络电阻上。}\n        \\conrow{放电 ($1 \\to 0$)}{NMOS 导通，电源不供能。电容存储能量全部在 NMOS 网络电阻上消耗。}\n}\n\n\\subsubsection{短路功耗}\n\n\\entry{定义}{输入翻转瞬间，当 $V_{Tn} < V_{in} < V_{DD} - |V_{Tp}|$ 时，PMOS 和 NMOS 同时导通，形成 $V_{dd}$ 到 GND 的瞬时通路。}\n\n\\imgleft[0.5]{images/image-2025-12-29-19-16-01.png}{\n    \\entry{负载电容 $C_L$ 的影响}{\n    \\concepttable{\n        \\conrow{负载较大}{输出 $V_{out}$ 变化慢，管子漏源压差小，短路电流 \\red{$I_{sc} \\approx 0$}。}\n        \\conrow{\\red{负载较小}}{输出 $V_{out}$ 变化快，管子进入饱和区，短路电流达到最大值 \\red{$I_{MAX}$}。}\n        }\n    }\n\n    \\entry{定量计算}{\n        \\concepttable{\n            \\conrow{积分公式}{$V_{DD} \\cdot \\int_{t(V_T)}^{t(V_{DD}-V_T)} I(t)dt \\cdot f$}\n            \\conrow{近似公式}{$P_{sc} = V_{DD} I_{peak} t_{sc} f$，其中 $I_{peak}$ 为峰值，$t_{sc}$ 为等效持续时间。}\n        }\n    }\n}\n\n\\entry{核心影响因素}{\n        \\concepttable{\n            \\conrow{翻转速率}{与输入/输出 \\red{翻转速率} 有关。输入斜率越慢，导通时间 $t_{sc}$ 越长。设计中通常控制短路功耗在总动态功耗的 10\\%-15\\%。}\n            \\conrow{器件尺寸}{$I_{peak}$ 与 \\red{$W/L$} 成正比。\\red{增加逻辑门驱动强度（增大尺寸）会直接导致短路功耗上升。}}\n}}\n\n\\subsection{逻辑门的能耗}\n\n能耗与功耗：\n\n\\noindent\\begin{minipage}[t]{0.48\\linewidth}\n    \\concepttable{\n        \\conrow{能耗}{从电源取得的总能量}\n        \\conrow{全摆幅}{$E_{0 \\to 1} = C_L V_{dd}^2$}\n        \\conrow{周期}{一个翻转周期 $0\\to1\\to0$}\n    }\n\\end{minipage}\n\\hfill\n\\begin{minipage}[t]{0.48\\linewidth}\n    \\concepttable{\n        \\conrow{功耗}{单位时间内的能量消耗}\n        \\conrow{公式}{$P = \\frac{E}{\\Delta T} = C_L V_{dd}^2 f_{0 \\to 1}$}\n        \\conrow{频率}{$f_{0 \\to 1}$ 为开关频率}\n    }\n\\end{minipage}\n\n\n\\subsection{开关活动性}\n\n动态功耗的核心统计学指标：\n\n\\concepttable{\n    \\conrow{定义}{开关活动性 $\\alpha_{0 \\to 1}$（翻转概率）指逻辑门在一个时钟周期内发生 $0 \\to 1$ \\red{翻转的概率}。}\n    \\conrow{计算公式}{$\\alpha_{0 \\to 1} = p_0 \\cdot p_1$，其中 $p_0, p_1$ 分别为输出为 0 和 1 的概率。}\n    \\conrow{静态门分布}{对于 $N$ 输入逻辑门，$\\alpha_{0 \\to 1} = \\frac{N_0}{2^N} \\cdot \\frac{N_1}{2^N}$，其中 $N_0, N_1$ 为输出 0 和 1 的状态数。}\n}\n\n\\entry{等效电容}{$\\boxed{C_{EFF} = \\alpha_{0 \\to 1} C_L}$，则动态功耗 $\\boxed{P = C_{EFF} V_{dd}^2 f_{0 \\to 1}}$。}\n\n\\entry{实例计算}{计算 $\\alpha_{0 \\to 1}$（假设输入信号为 1 的概率均为 $1/2$）：}\n\n\\noindent\\begin{minipage}[t]{0.48\\linewidth}\n    \\entry{示例 1-2输入 NOR}{\\concepttable{\n        \\conrow{真值表}{仅 $A=B=0$ 时输出为 1}\n        \\conrow{概率}{$p_1 = 1/4, p_0 = 3/4$}\n        \\conrow{翻转率}{$\\alpha_{0 \\to 1} = 3/4 \\times 1/4 = 3/16$}\n    }}\n\\end{minipage}\n\\hfill\n\\begin{minipage}[t]{0.48\\linewidth}\n    \\entry{示例 2-2输入 XOR}{\\concepttable{\n        \\conrow{真值表}{$A \\neq B$ 时输出为 1}\n        \\conrow{概率}{$p_1 = 1/2, p_0 = 1/2$}\n        \\conrow{翻转率}{$\\alpha_{0 \\to 1} = 1/2 \\times 1/2 = 1/4$}\n    }}\n\\end{minipage}\n\n\\entry{常用逻辑门翻转概率}{\n    \\concepttable{\n        \\conrow{AND 门}{输出为 1 的概率 $p_1 = p_A p_B$，则 \\red{$\\alpha_{0 \\to 1} = (1 - p_A p_B) p_A p_B$}}\n        \\conrow{OR 门}{输出为 1 的概率 $p_1 = 1 - (1-p_A)(1-p_B)$，则 \\red{$\\alpha_{0 \\to 1} = (1-p_1)p_1$}}\n        \\conrow{XOR 门}{输出为 1 的概率 $p_1 = p_A(1-p_B) + p_B(1-p_A)$，则 \\red{$\\alpha_{0 \\to 1} = (1-p_1)p_1$}}\n    }\n}\n\n\\subsection{信号间的相关性}\n\n当电路中存在\\red{重聚扇出}结构时，逻辑门输入端信号不再相互独立。\n\n\\imgleft[0.4]{images/image-2025-12-29-17-05-17.png}{\n    \\concepttable{\n        \\conrow{无重聚扇出}{信号 $B, C$ 独立，$P(B=1, C=1) = P(B=1)P(C=1)$，概率可直接相乘。}\n        \\conrow{有重聚扇出}{信号 $B, C$ 源自同一信号 $A$，受逻辑约束（如 $P(B=1, C=1) = 0$）。}\n    }\n    \\entry{结论}{简单概率乘法不再适用，需利用\\red{条件概率}建模或使用 CAD 工具进行仿真分析。}\n}\n\n\n\\subsection{影响静态功耗的因素}\n\n\\entry{定义}{电路在稳态（无信号翻转）下，由\\red{静态漏电流} 引起的功耗。}\n\n\\imgleft[0.15]{images/image-2025-12-29-19-29-40.png}{\n    \\concepttable{\n        \\conrow{亚阈值漏电 $I_{SUB}$}{\\red{占比最大}。即使 $V_{GS} < V_T$，源漏间仍存在由载流子扩散运动形成的微弱电流。}\n        \\conrow{栅极漏电 $I_{GS}, I_{GD}$}{栅氧化层极薄，载流子通过\\red{量子隧穿效应}穿过绝缘层形成的电流。}\n        \\conrow{结泄漏电流 $I_{LEAK}$}{源/漏扩散区与衬底间 PN 结反偏电流，包含\\red{带间隧穿 (BTBT) }成分。}\n    }\n    \\entry{核心影响因素}{\\red{阈值电压 $V_T$}（指数级影响，后面的效应也都是影响这个因素）、\\red{温度}、\\red{电源电压 $V_{DD}$}。}\n}\n\n\\subsubsection{体效应}\n\n\\entry{定义}{又称\\red{衬偏调制效应}。当源极电位高于衬底电位（$V_{SB}$ 上升）时，耗尽层电荷增加，导致开启晶体管所需的阈值电压 $V_T$ 上升。}\n\n\\concepttable{\n    \\conrow{计算公式}{$V_T = V_{T0} + \\gamma (\\sqrt{V_{SB} + |2\\phi_F|} - \\sqrt{|2\\phi_F|})$}\n    \\conrow{参数说明}{$\\gamma$ 为衬偏效应系数，与氧化层电容 $C_{ox}$ 和衬底掺杂浓度 $N_A$ 有关。}\n    \\conrow{结论}{在堆叠结构中，由于 $V_x > 0$ 导致 $V_{SB} > 0$，使 \\red{$V_T$ 增大}，从而有效减小漏电流。}\n}\n\n\\subsubsection{DIBL 效应}\n\n\\entry{定义}{\\red{漏端感应势垒降低效应}。当 $V_{DS}$ 较高时，漏端电场渗透至源端降低势垒高度，导致电子易注入沟道，从而降低阈值电压。}\n\n\\concepttable{\n    \\conrow{公式}{$V_{T0}' = V_{T0} - \\eta V_{DS}$。即 $V_{DS}$ 越大，有效 $V_T$ 越低，漏电流越大。}\n    \\conrow{堆叠关联}{堆叠结构中上方管 $V_{DS}$ 减小（$V_{DD} \\to V_{DD}-V_x$），使 $V_T$ 保持较高，抑制漏电。}\n    \\conrow{严重后果}{若 $V_{DS}$ 过大可能发生\\red{源漏穿通 (Punch-through)}，电流不再受栅压控制。}\n}\n\n\\subsubsection{高阈值器件位置}\n\n\\red{阈值电压高的晶体管放在外层（远离输出端）}，其它堆叠管的源端电位更高。\n\n\\subsubsection{堆叠效应（降低静态功耗的手段）}\n\n\\entry{定义}{当两个或多个晶体管串联（堆叠）且同时截止时，其总漏电流显著小于单管截止时的漏电流。}\n\n\\entry{物理模型}{\n    在堆叠结构中，中间节点 $x$ 会由微小漏电流充电达到稳态电压 $V_x > 0$。\n    \\red{亚阈值电流公式：}\n    \\vspace{-0.3cm}\n    $$I = I_{ds0} e^{\\frac{V_{gs}-V_{th}}{nkT/q}}(1 - e^{\\frac{-V_{ds}}{kT/q}})$$\n}\n\n\\vspace{-0.3cm}\n\n\\imgleft[0.2]{images/image-2025-12-29-19-35-10.png}{\n\n    \\entry{核心物理机制}{\n        \\concepttable{\n            \\conrow{负 $V_{GS}$}{对于上管 M1，$V_{GS1} = 0 - V_x = -V_x$。由于亚阈值电流随 $V_{GS}$ 呈指数下降，负的栅源电压极大地抑制了漏电流。}\n            \\conrow{体效应}{源极电位 $V_x$ 升高导致 $V_{SB} > 0$。根据体效应，M1 的阈值电压 $V_T$ 升高，进一步减小漏电流。}\n            \\conrow{DIBL 减弱}{漏源电压 $V_{DS1} = V_{DD} - V_x$ 减小，削弱了漏致势垒降低效应（DIBL），使 $V_T$ 相对保持在较高水平。}\n        }\n    }\n\n}\n\n\\subsection{习题解析}\n\n\\subsubsection{课堂练习}\n\n\\entry{例题 1}{当逻辑门电容以外部负载电容为主时，尺寸放大 2 倍以减小延时，其平均功耗变为 \\red{2} 倍，一次翻转能耗变为 \\red{1} 倍。}\n\n\\concepttable{\n    \\conrow{能耗分析}{一次翻转能耗 $E = \\frac{1}{2} C_{total} V_{DD}^2$。因 $C_{load}$ 占据主导且保持不变，$C_{total} \\approx C_{load}$，故\\red{单次翻转做功总量不变}。}\n    \\conrow{功耗分析}{平均功耗 $P \\propto I$。尺寸放大 2 倍使驱动电流 $I$ 变为 2 倍，单位时间内从电源汲取的能量（功率）随之变为 \\red{2} 倍。}\n    \\conrow{延时分析}{传播延时 $t_p \\propto \\frac{C_{total} V_{DD}}{I}$。由于 $C_{total}$ 近似不变而 $I$ 翻倍，延时 $t_p$ 缩小为原来的 1/2。}\n    \\conrow{PDP 验证}{$PDP = P_{avg} \\times t_p = (2P) \\times (0.5t_p) = E$。功耗延时积（即能耗）在尺寸放大后保持一致。}\n}\n\\entry{例题 2}{已知 $C_{ext}/C_{g1}=4$，调节 $V_{DD}$ 使总延时 $D \\le D(f=1, V_{DD\\_nom})$，求 $f=1.2$ 与 $f=1.4$ 谁的最优能耗更低？}\n\n\\entry{延时计算分析}{\n    \\concepttable{\n        \\conrow{延时模型}{单级延时 $d = p + g \\cdot h$，反相器 $p=1, g=1$}\n        \\conrow{第一级}{负载 $f C_{g1}$，输入 $C_{g1} \\implies h_1 = f, d_1 = 1 + f$}\n        \\conrow{第二级}{负载 $4 C_{g1}$，输入 $f C_{g1} \\implies h_2 = 4/f, d_2 = 1 + 4/f$}\n    }\n}\n\n\\concepttable{\n        \\conrow{延时模型}{总延时 $D = d_1 + d_2 = (1+f) + (1+4/f) = 2+f+4/f$ (单位 $t_p$)}\n        \\conrow{基准约束}{$f=1$ 时，$D_0 = 2+1+4 = 7t_p$。此为设计必须满足的延时上限}\n        \\conrow{延时计算}{$D(1.2) = 2+1.2+3.33 = 6.53t_p$；$D(1.4) = 2+1.4+2.86 = 6.26t_p$}\n}\n\n\\entry{电压缩放原理}{延时 $t_p \\propto \\frac{V_{DD}}{(V_{DD}-V_t)^\\alpha}$，降低 $V_{DD}$ 会使电路变慢；能耗 $E \\propto C V_{DD}^2$，降低 $V_{DD}$ 显著降低能耗。}\n\n\\entry{优化策略}{若电路速度快于设计要求，可\\red{通过降低 $V_{DD}$ 牺牲速度冗余来换取能耗下降}。}\n\n\n\\entry{分析}{\n    由于 $D(1.4) = 6.26$ 且 $D(1.2) = 6.53$，两者均小于基准 $D_0 = 7$。\n    $f=1.4$ 方案的速度冗余更大，意味着其电源电压 $V_{DD}$ 具有更大的下降空间。\n}\n\n\\entry{结论}{\\red{$f=1.4$ 的最优能耗更低}。根据 $E \\propto V_{DD}^2$，允许电压降幅越大，最终能耗越小。}\n\n\\subsubsection{作业题}\n\n\n\n\n\\section{第四章\\ 数字集成电路的鲁棒性}\n\n\\subsection{信号完整性}\n\n\\entry{定义}{信号在传播过程中保持原始形状的能力。本质是研究\\red{数字信号的模拟特性}（即电压或电流随时间变化的波形物理退化）。}\n\n\\concepttable{\n    \\conrow{幅度}{电压\\red{电平是否足够高}（逻辑 $1$）或足够低（逻辑 $0$），防止因衰减导致识别错误。}\n    \\conrow{时序}{信号边缘跳变是否在预定窗口内到达，防止延迟或抖动导致时序违例。}\n}\n\n\\entry{判定标准}{信号必须以\\red{要求的时序}和\\red{要求的电压幅度}到达接收端。}\n\n\\entry{工程目标}{研究电路在存在噪声的情况下如何保持正确的功能。}\n\n\\subsubsection{噪声模型}\n\n\\entry{数学模型}{$\\overline{V_{no}^2} = f(\\overline{V_{ni}^2}) + g(\\overline{V_{ngate}^2})$。}\n\n\\imgleft[0.3]{images/image-2025-12-29-20-58-11.png}{\n    \\concepttable{\n        \\conrow{输入噪声}{前一级输出噪声成为当前级输入。}\n        \\conrow{电路噪声}{包含电源噪声和耦合噪声（如串扰等）。}\n        \\conrow{输出噪声}{上述所有噪声在输出端的总和。}\n    }\n    \\entry{信号再生}{为防止噪声在多级传输中累积淹没信号，数字电路必须具备将受扰动的信号恢复至标准电平的能力。}\n}\n\n\\subsubsection{信号再生}\n\n \\entry{信号再生性}{当第一级输入偏离额定电平时，后面各级仍能恢复其正确值。}\n\n\\imgleft[0.4]{images/image-2025-12-29-21-02-55.png}{\n\\entry{反相器链}{\n    观察 $V_0 \\to V_1 \\to V_2 \\dots$ 的瞬态响应：\n    \\concepttable{\n        \\conrow{输入 $V_0$}{波形质量差，边缘缓慢且电平有偏差。}\n        \\conrow{中间 $V_1$}{波形反相，但仍存在畸变。}\n        \\conrow{恢复 $V_2$}{波形变得陡峭，电平接近理想值。}\n    }\n}\n\n\\entry{再生性 (Regenerative)}{\n    \\concepttable{\n        \\conrow{定义}{当第一级输入偏离额定电平时，后面各级仍能恢复其正确值。}\n        \\conrow{本质}{具备\\red{去噪}与\\red{阈值判决}能力，将输出拉回标准 $V_{DD}$ 或 $GND$。}\n    }\n}\n}\n\n\\subsection{噪声容限}\n\n\\subsubsection{开关阈值与单级噪声容限}\n\n\\entry{物理意义}{若噪声使输入进入高增益过渡区，输出将产生逻辑错误。$V_{IH}$ 需高于 $V_M$ 一定程度，$V_{IL}$ 需低于 $V_M$ 一定程度。}\n\n\\imgleft[0.3]{images/image-2025-12-29-21-07-35.png}{\n\\entry{VTC 曲线与再生性}{\n    \\concepttable{\n        \\conrow{再生性}{过渡区陡峭（$|Gain| > 1$），输入偏差经 $f(v)$ 映射后收敛至稳态（Rail-to-Rail）。}\n        \\conrow{不可再生}{过渡区平缓，输入偏差无法修正，甚至因多次迭代发散或停留在中间态。}\n    }\n}\n\\entry{关键概念}{\n    \\concepttable{\n        \\conrow{开关阈值 $V_M$}{$V_{in} = V_{out}$ 的交点。逻辑判断的中间分界点，电路处于亚稳态。}\n        \\conrow{斜率 $= -1$}{噪声容限的边界判定标准。界定逻辑稳态区（增益 $< 1$）与过渡区。}\n        \\conrow{单级噪声容限}{输入最大偏差不能超过 $(V_{OH} - V_M)$ 和 $(V_M - V_{OL})$。}\n    }\n}\n}\n\n\\section{第五章\\ 互联线与互联技术}\n\n\\subsection{互联线模型}\n\n互连线的电气特性建模，重点在于从物理结构到电路模型的抽象，以及对\\red{寄生电容}特别是\\red{对地电容}的精确计算。\n\n\\imgleft[0.3]{images/image-2025-12-31-11-05-22.png}{\n\n\\entry{分布参数模型}{基于物理结构抽象出的电路模型。}\n\n\\concepttable{\n    \\conrow{寄生电阻 $R$}{代表\\red{导线自身电阻}。由于有限电导率和横截面积，电流流过时产生压降和功耗。}\n    \\conrow{寄生电感 $L$}{代表\\red{导线自感}。\\red{高频下}变化的电流产生磁场并感应出电动势，影响信号完整性（低频常忽略）。}\n    \\conrow{寄生电容 $C$}{分为两类：\\par\n    1. \\red{对地/衬底电容}：导线与底部半导体衬底 (GND) 间形成的电容。\\par\n    2. \\red{线间电容} ：相邻导线间因电位差形成的耦合电容 (Coupling)。}\n}\n\n}\n\n\\subsection{互联线的寄生效应}\n\n下图展示了互连线在物理上最完整的电气模型，称为\\red{传输线模型}。\n\n\\img[0.8\\linewidth]{images/image-2025-12-31-11-55-37.png}\n\n\\subsubsection{寄生电容}\n\n寄生电容主要包括对地电容和线间电容：\n\n\\noindent\\begin{minipage}[t]{0.48\\linewidth}\n    \\img[0.9\\linewidth]{images/image-2025-12-31-11-22-18.png}\n    \\entry{对地电容 }{单根导线与下方衬底（交流地）间的电容。}\n    \\concepttable{\n        \\conrow{平行板模型}{假设仅存在垂直均匀电场。\\par\n        $C_{pp} = (\\varepsilon_{di} / t_{di}) WL$\\par\n        其中 $L, W$ 为长宽，$t_{di}$ 为绝缘层厚度。}\n        \\conrow{边缘电容}{考虑导线厚度 $H$，侧壁发出的边缘场形成的附加电容 $C_{fringe}$。}\n        \\conrow{总对地电容}{$C_{wire} = C_{pp} + C_{fringe}$。}\n    }\n    \\entry{几何比例影响}{大 $W/H$ 时 $C_{pp}$ 主导；小 $W/H$（窄高导线）时边缘场效应显著，$C_{fringe}$ 占主要部分。}\n\\end{minipage}\n\\hfill\n\\begin{minipage}[t]{0.48\\linewidth}\n    \\img[0.5\\linewidth]{images/image-2025-12-31-11-25-02.png}\n    \\entry{线间电容}{密集布线环境下相邻导线间的相互作用。}\n    \\concepttable{\n        \\conrow{耦合电容}{\\red{随导线间距减小而显著增加}，存在于左右相邻或上下相邻的导线之间。}\n        \\conrow{多导体系统}{由平板电容、边缘电容及线间耦合电容共同构成的复杂电容网络。}\n        \\conrow{物理意义}{导线寄生电容不仅取决于对衬底电容，更\\red{受周围邻近导线电位的相互影响}。}\n        \\conrow{模型演变}{在密集布线中，单纯的平行板模型因忽略了复杂的侧向耦合和边缘效应而失效。}\n    }\n\\end{minipage}\n\n\\entry{“三明治”结构模型}{关注 Layer $n$ 的中间导线（受害线）及其周围物理环境：}\n\n\\concepttable{\n        \\conrow{垂直环境}{Layer $n+1$（上层金属板/布线层）与 Layer $n-1$（下层金属板/衬底）。}\n        \\conrow{水平环境}{Layer $n$ 同层左右两侧的相邻导线。}\n}\n\n\\imgleft[0.3]{images/image-2025-12-31-11-12-43.png}{\n\n    \\entry{电容分量分解}{受害导线（Victim Wire）的寄生电容可分解为：}\n    \\concepttable{\n        \\conrow{底板电容 $C_{bot}$}{导线底面与下层间的平行板电容，主要由介质厚度 $t_1$ 决定。}\n        \\conrow{顶板电容 $C_{top}$}{导线顶面与上层间的平行板电容，主要由介质厚度 $t_2$ 决定。}\n        \\conrow{侧壁电容 $C_{adj}$}{与同层左右相邻导线间的耦合电容，由间距 $S$ 和导线厚度 $h$ 决定。}\n    }\n\n}\n\n\\entry{总对地电容计算}{前提：若周围导线均连接至固定电位（即视为交流地）。}\n\\concepttable{\n        \\conrow{计算公式}{$\\boxed{C_{total} = C_{top} + C_{bot} + 2 \\times C_{adj}}$}\n        \\conrow{设计意义}{定义了该节点驱动的总容性负载，对计算互连线延时和功耗至关重要。}\n}\n\n\\subsubsection{寄生电阻}\n\n\\entry{物理电阻公式}{基于电阻定律：$R = \\frac{\\rho L}{A} = \\frac{\\rho}{H} \\frac{L}{W}$。其中 $\\rho$ 为电阻率，$H$ 为导线厚度，$W$ 为宽度，$L$ 为长度。}\n\n\\entry{\\red{方块电阻}}{在集成电路中，厚度 $H$ 由工艺固定。定义 \\red{$R_{\\square} = \\rho / H$}（单位：$\\Omega/\\square$）。}\n\n\\imgleft[0.3]{images/image-2025-12-31-11-38-34.png}{\n    \\concepttable{\n        \\conrow{计算公式}{$\\boxed{R = R_{\\square} \\frac{L}{W}}$，其中 $L/W$ 代表\\red{导线包含的正方形（方块）数量}。}\n        \\conrow{几何意义}{电阻值仅取决于长宽比。只要 $L=W$，无论绝对尺寸大小，电阻均等于 $R_{\\square}$。}\n        \\conrow{计算规则}{导线总电阻 = 串联的方块数 $\\times$ 材料方块电阻值。}\n    }\n}\n\n\\entry{典型材料特性}{反映了不同层导电性能的巨大差异：}\n\\concepttable{\n    \\conrow{金属 (Al, Cu)}{$0.05 \\Omega/\\square$。极低，适合长距离信号传输。}\n    \\conrow{多晶硅 (Poly)}{$10 \\sim 15 \\Omega/\\square$。较高，常用于短距离连接或栅极。}\n    \\conrow{扩散区 (Diff)}{$20 \\sim 30 \\Omega/\\square$。最高，主要存在于有源区。}\n}\n\n\\subsubsection{接触电阻 (了解即可)}\n\n\\entry{定义}{层与层之间的电气连接（接触孔和通孔）引入的额外电阻。}\n\n\\concepttable{\n    \\conrow{物理结构}{多层金属或金属与半导体间的垂直连接。}\n    \\conrow{设计原则}{\\red{应尽可能减少接触孔和通孔的数量}，以降低压降和信号延迟。}\n}\n\n\\entry{尺寸与电阻关系}{\n    \\concepttable{\n        \\conrow{基本规律}{接触电阻与接触面积成反比。理论上增大尺寸可减小电阻。}\n        \\conrow{物理局限}{受限于\\red{电流集聚效应}，单纯增大单个孔径效率较低。}\n    }\n}\n\n\\entry{电流集聚效应}{\n    \\concepttable{\n        \\conrow{现象描述}{电流从高导电率层流入高电阻率层时，流线分布不均匀。}\n        \\conrow{分布特征}{电流集中在接触孔的\\red{周边}，中心区域电流密度极小。}\n        \\conrow{后果}{中心面积未被充分利用，大尺寸接触孔的电阻效率很低。}\n    }\n}\n\n\\entry{工程解决方案}{\n    \\concepttable{\n        \\conrow{核心结论}{\\red{采用多个小尺寸接触孔并联}以减小接触电阻。}\n        \\conrow{原理解析}{利用并联电阻公式 $R_{total} = R/n$ 降低总阻值，并通过增加总周边长度减轻集聚效应，使电流分布更均匀。}\n    }\n}\n\n\\subsubsection{寄生电感}\n\n\\entry{计算原理}{利用电磁场理论中电感与电容的内在物理联系，通过已知的电容参数来推导电感参数。}\n\n\\concepttable{\n    \\conrow{L-C 耦合关系}{对于处于均匀介质中的传输线，单位长度电容 $c$ 与电感 $l$ 满足：\\par\n    \\red{$cl = \\varepsilon \\mu$}}\n    \\conrow{参数解析}{$\\varepsilon$ 为介电常数，$\\mu$ 为磁导率。}\n    \\conrow{物理意义}{在均匀介质中，\\red{一旦计算出寄生电容 $c$，即可直接推导出寄生电感 $l$}，无需进行复杂的磁场分布计算。}\n}\n\n\\entry{电磁波传播速度}{信号（电磁波）在互连线中的传播速度 $v$ 由 $l$ 和 $c$ 决定：}\n\n\\concepttable{\n    \\conrow{基础公式}{$v = 1/\\sqrt{lc}$}\n    \\conrow{介质参数表示}{$v = 1/\\sqrt{\\varepsilon \\mu}$}\n    \\conrow{相对参数表示}{$v = c_0 / \\sqrt{\\varepsilon_r \\mu_r}$，其中 $c_0$ 为真空光速，$\\varepsilon_r$ 为相对介电常数，$\\mu_r$ 为相对磁导率。}\n    \\conrow{核心结论}{互连线中的信号传播速度主要受\\red{周围绝缘介质的材料特性（$\\varepsilon_r$）}限制。}\n}\n\n\\entry{忽略电感的前提}{集成电路芯片内部导线寄生电感通常极小，可忽略。}\n\\concepttable{\n    \\conrow{物理机制}{在低速或高阻抗电路中，$R$ 和 $C$ 效应占主导，感抗 $j\\omega L$ 远小于电阻 $R$。}\n    \\conrow{建模简化}{\\red{通常将导线建模为 $RC$ 电路而不是 $RLC$ 电路。}}\n}\n\n\\entry{\\red{考虑电感的必要条件}}{必须引入电感建模的两个关键条件：}\n\\concepttable{\n    \\conrow{低电阻}{使用铜 (Cu) 等低电阻率金属且导线截面较大，使电阻 $R$ 降低，感抗占比提升。}\n    \\conrow{高开关频率}{感抗 $X_L = 2\\pi f L$ 与频率成正比。高频下即使 $L$ 很小，感抗也会显著影响性能。}\n}\n\n\\entry{寄生电感引发的电路现象}{高频电路中由电感主导的负面效应：}\n\\concepttable{\n    \\conrow{振荡}{RLC 电路二阶阶跃响应特征。若阻尼不足，电压会在稳定值附近谐振摆动。}\n    \\conrow{过冲}{伴随振荡产生，电压瞬间超过 $V_{DD}$ 或低于 $GND$，可能导致击穿或误触发。}\n    \\conrow{信号反射}{高频下视为传输线。若特性阻抗 $Z_0 = \\sqrt{L/C}$ 与端点不匹配，信号在终端反射。}\n    \\conrow{线间互感}{相邻导线间的磁场耦合产生感应电动势（互感），是产生串扰的磁性分量（对应容性串扰）。}\n}\n\n\n\\noindent\n\\begin{minipage}[t]{0.48\\linewidth}\n\n\\subsection{集总模型}\n\n\\entry{适用条件}{\\red{导线很短}，其自身寄生电阻 $r$ 远小于驱动门的输出电阻，且高频电感 $l$ 在高频下的阻抗可忽略时。}\n\n\\img[0.9\\linewidth]{images/image-2025-12-31-12-02-32.png}\n\n\\concepttable{\n    \\conrow{物理特性}{导线可被视为一个\\red{等电位体}（理想导线）。}\n    \\conrow{\\red{延时计算}}{$\\boxed{\\tau = RC = rcL^2}$。}\n    \\conrow{参数说明}{$r, c$：单位长度的电阻和电容（Unit length parameters）。}\n    \\conrow{模型简化}{整根导线被简化为一个\\red{单一的集总电容}，作为驱动门的负载负载。}\n}\n\n\\end{minipage}\n\\hfill\n\\begin{minipage}[t]{0.48\\linewidth}\n\\subsection{分布模型}\n111\n\\end{minipage}\n\n\\subsection{长导线的延时优化}\n\n\\section{第六章\\ 组合逻辑}\n\n\\subsection{静态互补 CMOS 逻辑}\n\n\\subsection{有比逻辑}\n\n\\subsection{传输门逻辑}\n\n\\subsection{CPL 逻辑}\n\n\\subsection{动态逻辑}\n\n\\subsection{串联动态门}\n\n\\subsection{动态逻辑的速度和功耗}\n\n\\section{第七章\\ 时序逻辑}\n\n\\subsection{双稳态原理}\n\n\\subsection{锁存器}\n\n\\subsection{主从边沿触发寄存器}\n\n\\subsection{时钟偏差和时钟抖动}\n\n\\section{第八章\\ 加法器}\n\n\\subsection{二进制加法器}\n\n\\subsection{进位选择加法器}\n\n\\subsection{进位旁路加法器}\n\n\\subsection{超前进位加法器}\n\n\\section{第九章\\ 乘法器}\n\n\\subsection{二进制乘法器（有、无符号}\n\n\\subsection{部分即产生（部分积压缩、Booth 编码）}\n\n\\subsection{部分积累加}\n\n\\subsection{逐位进位阵列乘法器}\n\n\\subsection{进位保留乘法器}\n\n\\subsection{最终相加}\n\n\\section{第十章\\ 移位器}\n\n\\subsection{移位器设计}\n\n\\entry{移位种类}{三种常见的数字逻辑移位操作：}\n\n\\concepttable{\n    \\conrow{逻辑移位}{空位统一填充 \\red{$0$}。常用于无符号数乘除（左移 $\\times 2$，右移 $\\div 2$）或位操作。}\n    \\conrow{算术移位}{针对带符号数。右移需进行\\red{符号扩展}（MSB 保持不变，空位补符号位）；左移通常低位补 $0$，需注意溢出。}\n    \\conrow{循环移位}{数据视为环形，移出的位重新填入另一端空位，不丢失信息。}\n}\n\n\\subsection{漏斗型移位器}\n\n只介绍了移位的实现方法，并未介绍其具体电路结构。\n\n\\imgleft[0.35]{images/image-2025-12-30-20-09-04.png}{\n\n\\entry{核心架构}{通过构建宽窗口统一处理逻辑、算术和循环移位。}\n\n\\concepttable{\n    \\conrow{基本原理}{构建一个 $2N-1$ 到 $0$ 的宽数据输入域（总位宽 $2N$），输出 $Y$ 为其中的 $N$ 位滑动窗口。}\n    \\conrow{输入构成}{由两个 $N$ 位向量 $B$（高位 $2N-1 \\dots N$）和 $C$（低位 $N-1 \\dots 0$）拼接而成。}\n    \\conrow{偏移量}{决定输出窗口起始位置，输出 $Y$ 对应输入域的 $[offset + N - 1 : offset]$ 区间。}\n}\n\n}\n\n\\entry{操作映射表}{设定原始 $N$ 位数据为 $A$，移位量为 $k$：}\n\n\\img[0.6\\linewidth]{images/image-2025-12-30-20-14-01.png}\n\n\\concepttable{\n        \\conrow{逻辑右移}{配置 $B=0, C=A$，Offset=$k$。高位滑入 $B$ 区的 $0$，实现高位补 $0$。}\n        \\conrow{逻辑左移}{配置 $B=A, C=0$，Offset=$N-k$。从高位“回退”截取，低位引入 $C$ 中的 $0$。}\n        \\conrow{算术右移}{配置 $B=A_{N-1}\\dots A_{N-1}$（符号位）, $C=A$，Offset=$k$。高位填充符号位。}\n        \\conrow{算术左移}{配置 $B=A, C=0$，Offset=$N-k$。通路同逻辑左移，区别在于溢出判断。}\n        \\conrow{循环右移}{配置 $B=A, C=A$，Offset=$k$。$[A, A]$ 结构使移出的低位在高位出现。}\n        \\conrow{循环左移}{配置 $B=A, C=A$，Offset=$N-k$。利用偏移量实现反向的循环移动。}\n}\n\\entry{核心逻辑}{漏斗移位器本质是“截取”结构，通过调整 $B, C$ 内容与 $N-k$ 偏移量将左移转化为右移截取。}\n\n\\subsubsection{一位左右移位器}\n\n这个感觉像是学生根据自己学习传输管逻辑的理解设计出来的，从设计的角度来看稍显稚嫩，了解即可。\n\n\\imgleft[0.4]{images/image-2025-12-30-20-20-34.png}{\n\n\\concepttable{\n    \\conrow{输入/输出}{$A_i, A_{i-1}$ 为输入，$B_i, B_{i-1}$ 为输出。}\n    \\conrow{控制信号}{\\blue{Right}, \\blue{nop}, \\blue{Left}。三者在同一时刻应当\\red{互斥}，以避免信号竞争。}\n    \\conrow{Bit-Slice}{模块化设计，通过重复堆叠 $N$ 次该模块实现 $N$ 位移位，本质是相邻位间的数据路由。}\n}\n\n\\entry{工作模式}{\n    \\concepttable{\n        \\conrow{右移 (Right)}{Right=1，$A_i \\to B_{i-1}$。高位数据流向低位。}\n        \\conrow{左移 (Left)}{Left=1，$A_{i-1} \\to B_i$。低位数据流向高位。}\n        \\conrow{保持 (nop)}{nop=1，$A_i \\to B_i$。数据位置不发生改变。}\n    }\n}\n\n}\n\n\\entry{输出缓冲}{ NMOS 传输管逻辑存在高电平阈值损失（输出最高为 $V_{DD} - V_{th}$），需接缓冲器进行\\red{电平恢复}并提供驱动能力。}\n\n\\subsection{桶型移位器}\n\n\\entry{系统架构}{定义输入 $A$ ($A_3 \\dots A_0$)，输出 $B$ ($B_3 \\dots B_0$)，控制信号 $Sh$ ($Sh0 \\dots Sh3$)。信号最多通过一个传输门，理论上移位延时不依赖于移位器的大小和移位位数。}\n\n\\imgleft[0.4]{images/image-2025-12-30-20-28-49.png}{\n    MOS 管阵列的\\red{行数等于数据的字长}，\\red{列数等于可支持的移位数}。\n\n    \\concepttable{\n        \\conrow{独热编码}{控制线采用 \\red{One-hot} 编码，仅一根为高电平，决定移位位数。}\n        \\conrow{物理结构}{由 NMOS \\red{传输管} 构成的 $4 \\times 4$ \\red{交叉开关阵列}。}\n    }\n    \\entry{算术右移实现}{核心要求是空出的高位用\\red{符号位 $A_3$} 填充（符号扩展）。}\n    $\\boxed{B_3B_2B_1B_0 = A_3A_2A_1A_0 \\gg Sh_3Sh_2Sh_1Sh_0}$\n}\n\n\\concepttable{\n        \\conrow{$Sh0$ (不移位)}{$A_3 \\to B_3, A_2 \\to B_2, A_1 \\to B_1, A_0 \\to B_0$。}\n        \\conrow{$Sh1$ (右移 1 位)}{$A_3 \\to B_2, A_2 \\to B_1, A_1 \\to B_0$，且 $B_3 = A_3$。}\n        \\conrow{$Sh2$ (右移 2 位)}{$A_3 \\to B_1, A_2 \\to B_0$，且 $B_3 = B_2 = A_3$。}\n        \\conrow{$Sh3$ (右移 3 位)}{$A_3 \\to B_0$，且 $B_3 = B_2 = B_1 = A_3$。}\n}\n\n\\subsection{对数移位器}\n\n\\entry{核心设计理念}{采用\\red{分级控制}，将总移位值分解为二进制权重的组合。}\n\n\\imgleft[0.4]{images/image-2025-12-30-21-05-25.png}{\n\n\\concepttable{\n    \\conrow{二进制分解}{移位量 $K$ 基于\\red{“2 的指数位”} ($2^k$) 进行分解。每一级硬件只负责移动固定的 $2^k$ 位。}\n    \\conrow{级联结构}{级联多个移位级，每一级由 $Sh_k$ 控制。若 $Sh_k$ 有效则移位，否则信号直通。}\n}\n\n\\entry{电路结构分析}{以 0-7 位对数移位器为例：}\n\\concepttable{\n    \\conrow{第一级}{控制信号 $Sh1$，负责右移 $2^0 = 1$ 位。}\n    \\conrow{第二级}{控制信号 $Sh2$，负责右移 $2^1 = 2$ 位。}\n    \\conrow{第三级}{控制信号 $Sh4$，负责右移 $2^2 = 4$ 位。}\n    \\conrow{输出缓冲}{最后一级经过 Buffer 输出最终结果 $B_3, B_2, B_1, B_0$。}\n}\n\n}\n\n\\entry{移位范围}{对于 $N$ 位数据，通常级联 $\\log_2 N$ 级。图中三级结构支持最大 $1+2+4=7$ 位的移位量，适用于大范围移位场景。}\n\\subsubsection{对数移位器原理与特性}\n\n\\entry{单元逻辑}{本质为并行的 \\red{2 选 1 多路复用器 (2-to-1 MUX)}。}\n\\concepttable{\n    \\conrow{结构}{每一级节点由两个 NMOS 传输管组成：一个负责直通路径，一个负责移位路径。}\n    \\conrow{控制逻辑}{每一级根据二进制控制位决定是“直传”还是“跳跃” $2^k$ 位。}\n}\n\n\\entry{性能分析与设计权衡}{\n    \\concepttable{\n        \\conrow{速度特性}{延迟与移位宽度 $M$ 呈\\red{对数关系}，即具有 $\\log_2 M$ 级延迟。}\n        \\conrow{RC 延时}{信号必须穿过每一级传输管，串联电阻导致 $RC$ 延时随级数累积。}\n        \\conrow{优化手段}{在级与级之间插入\\red{中间缓冲器 (Buffer)}，以打断长 $RC$ 链并恢复信号驱动能力。}\n        \\conrow{控制编码}{无需译码器。控制信号直接对应二进制权值（如移位 3 位即 $Sh1=1, Sh2=1, Sh4=0$）。}\n    }\n}\n\n\\entry{适用场景对比}{\n    \\concepttable{\n        \\conrow{桶型移位器}{适用于\\red{较小位宽}。仅一级传输管延迟，速度极快，但面积代价随位宽增加迅速上升。}\n        \\conrow{对数移位器}{适用于\\red{大位宽}（如 64 位以上）。结构易于参数化和 EDA 自动生成，面积效率更高。}\n    }\n}\n\n\\subsection{习题解析}\n\n\\subsubsection{作业题}\n\n\\entry{作业6-2}{画出一个支持循环右移的 4-bit 桶型移位器的电路结构图}\n\n这里牢王应该是让这个移位器只支持循环移位，桶型移位器就像 Mask ROM 一样，设好就改不了了。\n\n\\section{第十一章\\ MOS 存储器}\n\n\\subsection{MOS 存储器分类}\n\n\\subsection{存储器结构}\n\n\\subsection{存储体}\n\n\\subsection{地址译码器}\n\n\\subsection{读写控制及输入输出电路}\n\n\\subsection{Mask ROM}\n\n\\subsection{SRAM}\n\n\\subsection{DRAM}\n\n\\section{第十二章\\ Verilog 硬件设计}\n\n\\subsection{组合逻辑}\n\n\\subsection{时序逻辑}\n\n\\subsection{状态机}\n\\entry{基本组成}{状态机由三个核心模块构成：}\n\n\\concepttable{\n    \\conrow{次态逻辑}{\\red{组合逻辑}模块。负责根据“输入”和“现态”计算出下一个时钟周期应该跳转到的“次态”。}\n    \\conrow{时序逻辑}{\\red{存储模块}（通常由 $DFF$ 构成）。负责存储“现态”，在时钟边沿到来时，将“次态”更新为新的“现态”。}\n    \\conrow{输出逻辑}{\\red{组合逻辑}模块。负责产生系统的最终“输出”。}\n}\n\n\\noindent\n\\begin{minipage}[t]{0.48\\linewidth}\n  \\img[0.9\\linewidth]{images/image-2025-12-30-21-26-07.png}\n  \\vspace{2pt}\n  \\entry{摩尔型 (Moore) 状态机}{输出仅取决于\\red{现态}。}\n\n    \\concepttable{\n        \\conrow{信号流向}{输入信号与反馈的“现态”共同决定“次态”；“时序逻辑”在时钟驱动下更新“现态”。}\n        \\conrow{核心特征}{\\red{输出逻辑的输入}仅来自于寄存器的输出 $Q$ 端（即现态）。}\n        \\conrow{同步特性}{输出严格同步于状态变化。输入信号的改变必须先触发状态翻转，才能传递至输出。}\n        \\conrow{工程意义}{输出通常比输入滞后一个周期，但具有良好的\\red{抗毛刺 (Glitch)} 能力。}\n    }\n\\end{minipage}\n\\hfill\n\\begin{minipage}[t]{0.48\\linewidth}\n\n\\img[0.9\\linewidth]{images/image-2025-12-30-21-32-44.png}\n\n\\entry{米里型 (Mealy) 状态机}{输出由\\red{现态与输入}共同决定。}\n\n\\concepttable{\n    \\conrow{信号流向}{次态逻辑与时序逻辑部分与 Moore 型基本一致。}\n    \\conrow{关键特征}{输出逻辑模块同时接收来自寄存器的“现态”与直接来自外部的“输入”信号。}\n    \\conrow{响应特性}{输出可对输入变化做出\\red{异步响应}。在同一时钟周期内，输入改变输出即可随之改变，无需等待时钟边沿。}\n    \\conrow{工程对比}{实现相同功能时状态数通常更少，响应速度更快；但输入端的噪声或毛刺容易直接传递至输出端。}\n}\n\\end{minipage}\n\n\\subsubsection{状态机设计描述方式}\n\n\\entry{核心概念}{根据现态 (CS)、次态 (NS) 和输出逻辑 (OL) 在 \\blue{always} 块中的分配，分为三种经典描述方式：}\n\n\\entry{1. 三段式 (Three-process)}{将三个逻辑环节完全解耦，与硬件框图一一对应。}\n\\concepttable{\n    \\conrow{现态 (CS)}{时序逻辑 \\red{always} 块，由时钟驱动更新状态寄存器。}\n    \\conrow{次态 (NS)}{组合逻辑 \\red{always} 块，根据输入和 $CS$ 计算 $NS$。}\n    \\conrow{输出逻辑 (OL)}{独立组合逻辑 \\red{always} 块，描述输出信号。}\n    \\conrow{优点}{结构最清晰，可读性最高，利于综合工具进行时序分析和优化。}\n}\n\n\\entry{2. 两段式 (Two-process)}{将逻辑环节进行合并，是工业界常用的写法。}\n\\concepttable{\n    \\conrow{策略一：(CS+NS) + (OL)}{第一个过程块描述现态更新与次态计算；第二个描述输出。}\n    \\conrow{策略二：(CS) + (NS+OL)}{第一个过程块描述寄存器更新；第二个合并次态与输出逻辑。}\n    \\conrow{特性}{明确分离了时序逻辑与组合逻辑，但需注意复杂 OL 可能导致关键路径过长。}\n}\n\n\\entry{3. 一段式 (Single-process)}{将 $CS, NS, OL$ 全部放入同一个时序 \\blue{always} 块中。}\n\\concepttable{\n    \\conrow{实现方式}{通常基于时钟边沿触发，代码量最少，结构简洁。}\n    \\conrow{输出特性}{输出信号被综合为\\red{寄存器输出} (Registered Output)，天然无毛刺。}\n    \\conrow{局限性}{输出信号会比状态变化\\red{滞后一个时钟周期}；复杂 Mealy 机描述臃肿。}\n}\n\n\\subsubsection{三段式状态机}\n\n这里放一个基于 三段式描述的有限状态机（FSM）设计实例，具体功能为 “101序列检测器”。\n\n\\imgleft[0.3]{images/image-2025-12-30-21-51-35.png}{\n\\entry{状态转移图分析}{该设计为 \\red{Moore 型}状态机，输出 $z$ 仅取决于当前状态（节点内标记为 $S_n/z$）。}\n\n\\concepttable{\n    \\conrow{$S0/0$}{初始状态 (Idle)，表示未检测到有效序列。}\n    \\conrow{$S1/0$}{检测到了“1”，即序列的第一位。}\n    \\conrow{$S2/0$}{检测到了“10”，即序列的前两位。}\n    \\conrow{$S3/1$}{检测到了“101”，序列匹配成功，输出 \\red{$z=1$}。}\n}\n\n\\entry{转移逻辑 (重叠检测)}{\n    \\concepttable{\n        \\conrow{从 $S0$}{输入 $1 \\to S1$；输入 $0 \\to S0$。}\n        \\conrow{从 $S1$}{输入 $0 \\to S2$；输入 $1 \\to S1$（最新的“1”可作为新序列开头）。}\n        \\conrow{从 $S2$}{输入 $1 \\to S3$；输入 $0 \\to S0$（序列中断，需重新检测）。}\n        \\conrow{从 $S3$}{输入 $1 \\to S1$；输入 $0 \\to S2$（最后的“1”或“10”作为下一序列前缀）。}\n    }\n}\n}\n\n% --- 手动换栏命令（如果需要强制换列）---\n% \\columnbreak \n\n\\end{multicols*}\n\n\\end{document}"
        }
    ]
}